<?xml version="1.0" encoding="UTF-8" ?>
<project name="MySql" database="MySql" id="54a6242d-3c32-4b0c-9b74-15b5c90d1ab7" >
	<schema name="blofin" >
		<table name="account" row_count="4" spec="" >
			<column name="account" type="BINARY" length="3" mandatory="y" />
			<column name="broker" type="BINARY" length="3" mandatory="y" />
			<column name="state" type="BINARY" length="3" mandatory="y" />
			<column name="environment" type="BINARY" length="3" mandatory="y" />
			<column name="total_equity" type="DECIMAL" length="15" decimal="3" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="isolated_equity" type="DECIMAL" length="15" decimal="3" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="wss_url" type="VARCHAR" length="100" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="rest_api_url" type="VARCHAR" length="100" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="wss_public_url" type="VARCHAR" length="100" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="update_time" type="DATETIME" length="3" mandatory="y" >
				<defo><![CDATA[now(3)]]></defo>
			</column>
			<index name="pk_account" unique="PRIMARY_KEY" >
				<column name="account" />
			</index>
			<index name="fk_a_state" unique="NORMAL" >
				<column name="state" />
			</index>
			<index name="fk_a_broker" unique="NORMAL" >
				<column name="broker" />
			</index>
			<index name="fk_a_environment" unique="NORMAL" >
				<column name="environment" />
			</index>
			<fk name="fk_a_broker" to_schema="blofin" to_table="broker" options="" >
				<fk_column name="broker" pk="broker" />
			</fk>
			<fk name="fk_a_environment" to_schema="blofin" to_table="environment" options="" >
				<fk_column name="environment" pk="environment" />
			</fk>
			<fk name="fk_a_state" to_schema="blofin" to_table="state" options="" >
				<fk_column name="state" pk="state" />
			</fk>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="account_detail" row_count="3" spec="" >
			<column name="account" type="BINARY" length="3" mandatory="y" />
			<column name="currency" type="BINARY" length="3" mandatory="y" />
			<column name="balance" type="DECIMAL" length="15" decimal="3" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="equity" type="DECIMAL" length="15" decimal="3" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="isolated_equity" type="DECIMAL" length="15" decimal="3" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="available" type="DECIMAL" length="15" decimal="3" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="available_equity" type="DECIMAL" length="15" decimal="3" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="equity_usd" type="DECIMAL" length="15" decimal="3" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="frozen" type="DECIMAL" length="15" decimal="3" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="order_frozen" type="DECIMAL" length="15" decimal="3" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="borrow_frozen" type="DECIMAL" length="15" decimal="3" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="unrealized_pnl" type="DECIMAL" length="15" decimal="3" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="isolated_unrealized_pnl" type="DECIMAL" length="15" decimal="3" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="coin_usd_price" type="DECIMAL" length="10" decimal="6" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="margin_ratio" type="DECIMAL" length="15" decimal="3" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="spot_available" type="DECIMAL" length="15" decimal="3" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="liability" type="DECIMAL" length="15" decimal="3" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="update_time" type="DATETIME" length="3" mandatory="y" >
				<defo><![CDATA[now(3)]]></defo>
			</column>
			<index name="pk_account_detail" unique="PRIMARY_KEY" >
				<column name="account" />
				<column name="currency" />
			</index>
			<index name="fk_ad_currency" unique="NORMAL" >
				<column name="currency" />
			</index>
			<fk name="fk_ad_account" to_schema="blofin" to_table="account" options="" >
				<fk_column name="account" pk="account" />
			</fk>
			<fk name="fk_ad_currency" to_schema="blofin" to_table="currency" options="" >
				<fk_column name="currency" pk="currency" />
			</fk>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="activity" row_count="0" spec="" >
			<column name="activity" type="BINARY" length="3" mandatory="y" />
			<column name="task" type="VARCHAR" length="60" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<index name="pk_activity" unique="PRIMARY_KEY" >
				<column name="activity" />
			</index>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="authority" row_count="6" spec="" >
			<column name="authority" type="BINARY" length="3" mandatory="y" />
			<column name="privilege" type="VARCHAR" length="16" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="priority" type="SMALLINT" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<index name="pk_authority" unique="PRIMARY_KEY" >
				<column name="authority" />
			</index>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="broker" row_count="1" spec="" >
			<column name="broker" type="BINARY" length="3" mandatory="y" />
			<column name="name" type="VARCHAR" length="30" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="image_url" type="VARCHAR" length="60" mandatory="y" >
				<defo><![CDATA['./images/broker/no-image']]></defo>
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="website_url" type="VARCHAR" length="60" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<index name="pk_broker" unique="PRIMARY_KEY" >
				<column name="broker" />
			</index>
			<index name="ak_broker" unique="UNIQUE_KEY" >
				<column name="name" />
			</index>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="cancel_source" row_count="2" spec="" >
			<comment><![CDATA[not_canceled
user_canceled
system_canceled]]></comment>
			<column name="cancel_source" type="BINARY" length="3" mandatory="y" />
			<column name="source_ref" type="VARCHAR" length="15" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="source" type="VARCHAR" length="12" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<index name="pk_cancel_source" unique="PRIMARY_KEY" >
				<column name="cancel_source" />
			</index>
			<index name="ak_cancel" unique="UNIQUE_KEY" >
				<column name="source_ref" />
			</index>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="candle" row_count="72922" spec="" >
			<column name="instrument" type="BINARY" length="3" mandatory="y" />
			<column name="period" type="BINARY" length="3" mandatory="y" />
			<column name="bar_time" type="DATETIME" mandatory="y" />
			<column name="open" type="DOUBLE" mandatory="y" />
			<column name="high" type="DOUBLE" mandatory="y" />
			<column name="low" type="DOUBLE" mandatory="y" />
			<column name="close" type="DOUBLE" mandatory="y" />
			<column name="volume" type="INT" mandatory="y" />
			<column name="vol_currency" type="INT" mandatory="y" />
			<column name="vol_currency_quote" type="INT" mandatory="y" />
			<column name="completed" type="BOOLEAN" mandatory="y" />
			<index name="pk_candle" unique="PRIMARY_KEY" >
				<column name="instrument" />
				<column name="period" />
				<column name="bar_time" />
			</index>
			<index name="fk_c_period" unique="NORMAL" >
				<column name="period" />
			</index>
			<fk name="fk_c_instrument" to_schema="blofin" to_table="instrument" options="" >
				<fk_column name="instrument" pk="instrument" />
			</fk>
			<fk name="fk_c_period" to_schema="blofin" to_table="period" options="" >
				<fk_column name="period" pk="period" />
			</fk>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="contract_type" row_count="2" spec="" >
			<column name="contract_type" type="BINARY" length="3" mandatory="y" />
			<column name="source_ref" type="VARCHAR" length="10" mandatory="y" >
				<column_options><![CDATA[CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="description" type="VARCHAR" length="30" mandatory="y" >
				<column_options><![CDATA[CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<index name="pk_contract_type" unique="PRIMARY_KEY" >
				<column name="contract_type" />
			</index>
			<index name="ak_contract_type" unique="UNIQUE_KEY" >
				<column name="source_ref" />
			</index>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="currency" row_count="455" spec="" >
			<column name="currency" type="BINARY" length="3" mandatory="y" />
			<column name="symbol" type="VARCHAR" length="20" mandatory="y" >
				<column_options><![CDATA[CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="image_url" type="VARCHAR" length="300" >
				<column_options><![CDATA[CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="suspense" type="BOOLEAN" />
			<index name="pk_currency" unique="PRIMARY_KEY" >
				<column name="currency" />
			</index>
			<index name="ak_currency" unique="UNIQUE_KEY" >
				<column name="symbol" />
			</index>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="environment" row_count="3" spec="" >
			<column name="environment" type="BINARY" length="3" mandatory="y" />
			<column name="environ" type="VARCHAR" length="15" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<index name="pk_environment" unique="PRIMARY_KEY" >
				<column name="environment" />
			</index>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="fibonacci" row_count="0" spec="" >
			<column name="fibonacci" type="BINARY" length="3" mandatory="y" />
			<column name="level" type="TINYINT" mandatory="y" />
			<column name="percent" type="DECIMAL" length="5" decimal="3" mandatory="y" />
			<column name="alias" type="VARCHAR" length="10" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<index name="pk_fibonacci" unique="PRIMARY_KEY" >
				<column name="fibonacci" />
			</index>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="fractal" row_count="0" spec="" >
			<column name="fractal" type="BINARY" length="3" mandatory="y" />
			<column name="instrument" type="BINARY" length="3" mandatory="y" />
			<column name="period" type="BINARY" length="3" mandatory="y" />
			<column name="position" type="CHAR" length="5" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="fibonacci" type="BINARY" length="3" />
			<index name="pk_fractal" unique="PRIMARY_KEY" >
				<column name="fractal" />
			</index>
			<index name="ak_fractal" unique="UNIQUE_KEY" >
				<column name="instrument" />
				<column name="period" />
				<column name="position" />
			</index>
			<fk name="fk_f_instrument_period" to_schema="blofin" to_table="instrument_period" options="" >
				<fk_column name="instrument" pk="instrument" />
				<fk_column name="period" pk="period" />
			</fk>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="fractal_fibonacci" row_count="0" spec="" >
			<column name="fractal" type="BINARY" length="3" mandatory="y" />
			<column name="fractal_type" type="CHAR" length="10" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
				<comment><![CDATA[Retrace
Extension]]></comment>
			</column>
			<column name="fibonacci" type="BINARY" length="3" mandatory="y" />
			<column name="fractal_state" type="CHAR" length="10" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="price" type="DOUBLE" mandatory="y" />
			<index name="pk_fractal_fibonacci" unique="PRIMARY_KEY" >
				<column name="fractal" />
				<column name="fractal_type" />
				<column name="fibonacci" />
			</index>
			<index name="fk_ff_fibonacci" unique="NORMAL" >
				<column name="fibonacci" />
			</index>
			<index name="fk_ff_fractal_state" unique="NORMAL" >
				<column name="fractal_state" />
			</index>
			<constraint name="ck_ff_fractal_type" type="CHECK" options="" >
				<string><![CDATA[`fractal_type` in (_utf8mb4'extension',_utf8mb4'retrace')]]></string>
			</constraint>
			<fk name="fk_ff_fibonacci" to_schema="blofin" to_table="fibonacci" options="" >
				<fk_column name="fibonacci" pk="fibonacci" />
			</fk>
			<fk name="fk_ff_fractal" to_schema="blofin" to_table="fractal" options="" >
				<fk_column name="fractal" pk="fractal" />
			</fk>
			<fk name="fk_ff_fractal_state" to_schema="blofin" to_table="fractal_state" options="" >
				<fk_column name="fractal_state" pk="fractal_state" />
			</fk>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="fractal_point" row_count="0" spec="" >
			<column name="fractal" type="BINARY" length="3" mandatory="y" />
			<column name="point_type" type="CHAR" length="10" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="price" type="DOUBLE" mandatory="y" />
			<column name="create_time" type="DATETIME" mandatory="y" />
			<index name="pk_fractal_point" unique="PRIMARY_KEY" >
				<column name="fractal" />
				<column name="point_type" />
			</index>
			<index name="fk_fp_point_type" unique="NORMAL" >
				<column name="point_type" />
			</index>
			<fk name="fk_p_point_type" to_schema="blofin" to_table="point_type" options="" >
				<fk_column name="point_type" pk="point_type" />
			</fk>
			<fk name="fk_point_fractal" to_schema="blofin" to_table="fractal" options="" >
				<fk_column name="fractal" pk="fractal" />
			</fk>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="fractal_state" row_count="0" spec="" >
			<comment><![CDATA[Rally
Pullback
Retrace
Correction
Recovery
Breakout
Reversal
Extension]]></comment>
			<column name="fractal_state" type="CHAR" length="10" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<index name="pk_fractal_state" unique="PRIMARY_KEY" >
				<column name="fractal_state" />
			</index>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="instrument" row_count="524" spec="" >
			<column name="instrument" type="BINARY" length="3" mandatory="y" />
			<column name="base_currency" type="BINARY" length="3" mandatory="y" />
			<column name="quote_currency" type="BINARY" length="3" mandatory="y" />
			<column name="trade_period" type="BINARY" length="3" />
			<column name="trade_state" type="BINARY" length="3" mandatory="y" />
			<column name="lot_scale_factor" type="INT" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="martingale_factor" type="INT" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="leverage" type="INT" mandatory="y" >
				<defo><![CDATA['0']]></defo>
			</column>
			<column name="margin_mode" type="VARCHAR" length="10" mandatory="y" />
			<index name="pk_instrument" unique="PRIMARY_KEY" >
				<column name="instrument" />
			</index>
			<index name="ak_instrument" unique="UNIQUE_KEY" >
				<column name="base_currency" />
				<column name="quote_currency" />
			</index>
			<index name="fk_i_quote_currency" unique="NORMAL" >
				<column name="quote_currency" />
			</index>
			<index name="fk_i_trade_period" unique="NORMAL" >
				<column name="trade_period" />
			</index>
			<index name="fk_i_state" unique="NORMAL" >
				<column name="trade_state" />
			</index>
			<index name="fk_i_margin_mode" unique="NORMAL" >
				<column name="margin_mode" />
			</index>
			<fk name="fk_i_base_currency" to_schema="blofin" to_table="currency" options="" >
				<fk_column name="base_currency" pk="currency" />
			</fk>
			<fk name="fk_i_quote_currency" to_schema="blofin" to_table="currency" options="" >
				<fk_column name="quote_currency" pk="currency" />
			</fk>
			<fk name="fk_i_state" to_schema="blofin" to_table="state" options="" >
				<fk_column name="trade_state" pk="state" />
			</fk>
			<fk name="fk_i_trade_period" to_schema="blofin" to_table="period" delete_action="restrict" update_action="restrict" options="" >
				<fk_column name="trade_period" pk="period" />
			</fk>
			<fk name="fk_i_margin_mode" to_schema="blofin" to_table="margin_mode" >
				<fk_column name="margin_mode" pk="margin_mode" />
			</fk>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="instrument_detail" row_count="524" spec="" >
			<column name="instrument" type="BINARY" length="3" mandatory="y" />
			<column name="instrument_type" type="BINARY" length="3" mandatory="y" />
			<column name="contract_type" type="BINARY" length="3" mandatory="y" />
			<column name="contract_value" type="DECIMAL" length="17" decimal="5" mandatory="y" />
			<column name="max_leverage" type="INT" mandatory="y" />
			<column name="min_size" type="DECIMAL" length="5" decimal="3" mandatory="y" />
			<column name="lot_size" type="DECIMAL" length="5" decimal="3" mandatory="y" />
			<column name="tick_size" type="DOUBLE" mandatory="y" />
			<column name="max_limit_size" type="DECIMAL" length="13" decimal="2" mandatory="y" />
			<column name="max_market_size" type="DECIMAL" length="13" decimal="2" mandatory="y" />
			<column name="list_time" type="DATETIME" length="3" mandatory="y" />
			<column name="expiry_time" type="DATETIME" length="3" mandatory="y" />
			<index name="pk_instrument_detail" unique="PRIMARY_KEY" >
				<column name="instrument" />
			</index>
			<index name="fk_id_instrument_type" unique="NORMAL" >
				<column name="instrument_type" />
			</index>
			<index name="fk_id_contract_type" unique="NORMAL" >
				<column name="contract_type" />
			</index>
			<fk name="fk_id_contract_type" to_schema="blofin" to_table="contract_type" options="" >
				<fk_column name="contract_type" pk="contract_type" />
			</fk>
			<fk name="fk_id_instrument" to_schema="blofin" to_table="instrument" options="" >
				<fk_column name="instrument" pk="instrument" />
			</fk>
			<fk name="fk_id_instrument_type" to_schema="blofin" to_table="instrument_type" options="" >
				<fk_column name="instrument_type" pk="instrument_type" />
			</fk>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="instrument_period" row_count="7860" spec="" >
			<column name="instrument" type="BINARY" length="3" mandatory="y" />
			<column name="period" type="BINARY" length="3" mandatory="y" />
			<column name="sma_factor" type="SMALLINT" mandatory="y" >
				<defo><![CDATA[_utf8mb4'0']]></defo>
			</column>
			<column name="bulk_collection_rate" type="SMALLINT" mandatory="y" >
				<defo><![CDATA['0']]></defo>
			</column>
			<column name="interval_collection_rate" type="SMALLINT" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="strict_stops" type="BOOLEAN" mandatory="y" >
				<defo><![CDATA[false]]></defo>
			</column>
			<index name="pk_instrument_period" unique="PRIMARY_KEY" >
				<column name="instrument" />
				<column name="period" />
			</index>
			<index name="fk_ip_period" unique="NORMAL" >
				<column name="period" />
			</index>
			<fk name="fk_ip_instrument" to_schema="blofin" to_table="instrument" options="" >
				<fk_column name="instrument" pk="instrument" />
			</fk>
			<fk name="fk_ip_period" to_schema="blofin" to_table="period" options="" >
				<fk_column name="period" pk="period" />
			</fk>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="instrument_position" prior="instrument_position_state" >
			<column name="instrument_position" prior="instrument_position_state" type="BINARY" length="3" mandatory="y" />
			<column name="instrument" type="BINARY" length="3" mandatory="y" />
			<column name="position" prior="position_type" type="CHAR" length="5" mandatory="y" />
			<column name="state" type="BINARY" length="3" mandatory="y" />
			<column name="auto_state" prior="auto_trade" type="BINARY" length="3" mandatory="y" />
			<column name="update_time" prior="open_time" type="DATETIME" length="3" mandatory="y" >
				<defo><![CDATA[now(3)]]></defo>
			</column>
			<column name="close_time" type="DATETIME" length="3" mandatory="y" >
				<defo><![CDATA[now(3)]]></defo>
			</column>
			<index name="pk_instrument_position" unique="PRIMARY_KEY" >
				<column name="instrument_position" />
			</index>
			<index name="ak_instrument_position" unique="UNIQUE_KEY" >
				<column name="instrument" />
				<column name="position" />
			</index>
			<index name="fk_ips_state" unique="NORMAL" >
				<column name="state" />
			</index>
			<index name="fk_ips_position" unique="NORMAL" >
				<column name="position" />
			</index>
			<fk name="fk_ips_instrument" to_schema="blofin" to_table="instrument" >
				<fk_column name="instrument" pk="instrument" />
			</fk>
			<fk name="fk_ips_position" to_schema="blofin" to_table="position" >
				<fk_column name="position" pk="position" />
			</fk>
			<fk name="fk_ips_state" to_schema="blofin" to_table="state" >
				<fk_column name="state" pk="state" />
			</fk>
			<options><![CDATA[engine=InnoDB]]></options>
		</table>
		<table name="instrument_type" row_count="1" spec="" >
			<column name="instrument_type" type="BINARY" length="3" mandatory="y" />
			<column name="source_ref" type="VARCHAR" length="10" mandatory="y" >
				<column_options><![CDATA[CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="description" type="VARCHAR" length="30" mandatory="y" >
				<column_options><![CDATA[CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<index name="pk_instrument_type" unique="PRIMARY_KEY" >
				<column name="instrument_type" />
			</index>
			<index name="ak_instrument_type" unique="UNIQUE_KEY" >
				<column name="source_ref" />
			</index>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="margin_mode" row_count="2" spec="" >
			<comment><![CDATA[Margin mode
cross
isolated]]></comment>
			<column name="margin_mode" type="VARCHAR" length="10" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="description" type="VARCHAR" length="30" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<index name="pk_margin_mode" unique="PRIMARY_KEY" >
				<column name="margin_mode" />
			</index>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="order_category" row_count="6" spec="" >
			<comment><![CDATA[normal
full_liquidation
partial_liquidation
adl
tp
sl]]></comment>
			<column name="order_category" type="BINARY" length="3" mandatory="y" />
			<column name="source_ref" type="VARCHAR" length="20" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="description" type="VARCHAR" length="30" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<index name="pk_order_category" unique="PRIMARY_KEY" >
				<column name="order_category" />
			</index>
			<index name="ak_category" unique="UNIQUE_KEY" >
				<column name="source_ref" />
			</index>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="order_state" row_count="7" spec="" >
			<comment><![CDATA[live, effective, canceled, order_failed, filled, partially_canceled, partially_filled]]></comment>
			<column name="order_state" prior="state" type="BINARY" length="3" mandatory="y" />
			<column name="source_ref" type="VARCHAR" length="20" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="status" type="VARCHAR" length="30" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="map_ref" type="VARCHAR" length="10" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<index name="pk_order_state" unique="PRIMARY_KEY" >
				<column name="order_state" />
			</index>
			<index name="ak_order_state" unique="UNIQUE_KEY" >
				<column name="source_ref" />
			</index>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="orders" row_count="2" spec="" >
			<column name="request" prior="client_order_id" type="BINARY" length="6" mandatory="y" />
			<column name="order_id" type="BIGINT" mandatory="y" />
			<column name="price" type="DOUBLE" mandatory="y" />
			<column name="size" type="DOUBLE" mandatory="y" />
			<column name="request_type" prior="order_type" type="BINARY" length="3" mandatory="y" />
			<column name="position" type="CHAR" length="5" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="action" type="CHAR" length="4" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="margin_mode" type="VARCHAR" length="10" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="filled_size" type="DOUBLE" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="filled_amount" type="DOUBLE" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="average_price" type="DOUBLE" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="order_state" prior="state" type="BINARY" length="3" mandatory="y" />
			<column name="leverage" type="INT" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="fee" type="DOUBLE" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="pnl" type="DOUBLE" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="cancel_source" type="BINARY" length="3" mandatory="y" />
			<column name="order_category" type="BINARY" length="3" mandatory="y" />
			<column name="reduce_only" type="BOOLEAN" mandatory="y" >
				<defo><![CDATA[_utf8mb4'0']]></defo>
			</column>
			<column name="broker_id" type="VARCHAR" length="16" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="create_time" type="DATETIME" length="3" mandatory="y" >
				<defo><![CDATA[now(3)]]></defo>
			</column>
			<column name="update_time" type="DATETIME" length="3" mandatory="y" >
				<defo><![CDATA[now(3)]]></defo>
			</column>
			<index name="pk_orders" unique="PRIMARY_KEY" >
				<column name="request" />
			</index>
			<index name="ak_orders" unique="UNIQUE_KEY" >
				<column name="order_id" />
			</index>
			<index name="fk_o_request_type" unique="NORMAL" >
				<column name="request_type" />
			</index>
			<index name="fk_o_margin_mode" unique="NORMAL" >
				<column name="margin_mode" />
			</index>
			<index name="fk_o_order_state" unique="NORMAL" >
				<column name="order_state" />
			</index>
			<index name="fk_o_order_category" unique="NORMAL" >
				<column name="order_category" />
			</index>
			<index name="fk_o_cancel_source" unique="NORMAL" >
				<column name="cancel_source" />
			</index>
			<fk name="fk_o_cancel_source" to_schema="blofin" to_table="cancel_source" options="" >
				<fk_column name="cancel_source" pk="cancel_source" />
			</fk>
			<fk name="fk_o_margin_mode" to_schema="blofin" to_table="margin_mode" options="" >
				<fk_column name="margin_mode" pk="margin_mode" />
			</fk>
			<fk name="fk_o_order_category" to_schema="blofin" to_table="order_category" options="" >
				<fk_column name="order_category" pk="order_category" />
			</fk>
			<fk name="fk_o_order_state" to_schema="blofin" to_table="order_state" options="" >
				<fk_column name="order_state" pk="order_state" />
			</fk>
			<fk name="fk_o_request_type" to_schema="blofin" to_table="request_type" options="" >
				<fk_column name="request_type" pk="request_type" />
			</fk>
			<fk name="fk_o_request" to_schema="blofin" to_table="request" options="" >
				<fk_column name="request" pk="request" />
			</fk>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="period" row_count="15" spec="" >
			<column name="period" type="BINARY" length="3" mandatory="y" />
			<column name="timeframe" type="VARCHAR" length="3" mandatory="y" >
				<column_options><![CDATA[CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="description" type="VARCHAR" length="30" mandatory="y" >
				<column_options><![CDATA[CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="timeframe_units" type="INT" mandatory="y" />
			<index name="pk_period" unique="PRIMARY_KEY" >
				<column name="period" />
			</index>
			<index name="ak_period" unique="UNIQUE_KEY" >
				<column name="timeframe" />
			</index>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="point_type" row_count="0" spec="" >
			<comment><![CDATA[Origin
Base
Root
Expansion
Retrace
Recovery
Close]]></comment>
			<column name="point_type" type="CHAR" length="10" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<index name="pk_point_type" unique="PRIMARY_KEY" >
				<column name="point_type" />
			</index>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="position" prior="position_type" >
			<column name="position" prior="position_type" type="CHAR" length="5" mandatory="y" />
			<index name="pk_position_type" unique="PRIMARY_KEY" >
				<column name="position" />
			</index>
			<options><![CDATA[engine=InnoDB]]></options>
		</table>
		<table name="positions" row_count="2" spec="" >
			<column name="positions" prior="position_id" type="BINARY" length="6" mandatory="y" />
			<column name="instrument" type="BINARY" length="3" mandatory="y" />
			<column name="position" type="CHAR" length="5" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="size" prior="positions" type="DOUBLE" mandatory="y" />
			<column name="size_available" prior="positions_avail" type="DOUBLE" mandatory="y" />
			<column name="leverage" type="INT" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="margin_mode" type="VARCHAR" length="10" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="margin_used" type="DOUBLE" mandatory="y" >
				<defo><![CDATA[_utf8mb4'0']]></defo>
			</column>
			<column name="margin_ratio" type="DECIMAL" length="12" decimal="3" mandatory="y" />
			<column name="margin_initial" type="DOUBLE" mandatory="y" />
			<column name="margin_maint" type="DOUBLE" mandatory="y" />
			<column name="average_price" type="DOUBLE" mandatory="y" />
			<column name="mark_price" type="DOUBLE" mandatory="y" />
			<column name="liquidation_price" type="DOUBLE" mandatory="y" />
			<column name="unrealized_pnl" type="DOUBLE" mandatory="y" />
			<column name="unrealized_pnl_ratio" type="DECIMAL" length="12" decimal="3" mandatory="y" />
			<column name="adl" type="SMALLINT" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="create_time" type="DATETIME" length="3" mandatory="y" >
				<defo><![CDATA[now(3)]]></defo>
			</column>
			<column name="update_time" type="DATETIME" length="3" mandatory="y" >
				<defo><![CDATA[now(3)]]></defo>
			</column>
			<index name="pk_positions" unique="PRIMARY_KEY" >
				<column name="positions" />
			</index>
			<index name="fk_p_margin_mode" unique="NORMAL" >
				<column name="margin_mode" />
			</index>
			<index name="fk_p_instrument" unique="NORMAL" >
				<column name="instrument" />
			</index>
			<constraint name="ck_p_position" type="CHECK" options="" >
				<string><![CDATA[`position` in (_utf8mb4'long',_utf8mb4'net',_utf8mb4'short')]]></string>
			</constraint>
			<fk name="fk_p_instrument" to_schema="blofin" to_table="instrument" options="" >
				<fk_column name="instrument" pk="instrument" />
			</fk>
			<fk name="fk_p_margin_mode" to_schema="blofin" to_table="margin_mode" options="" >
				<fk_column name="margin_mode" pk="margin_mode" />
			</fk>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="price_type" row_count="3" spec="" >
			<comment><![CDATA[Trigger price type.
last: last price
index: index price
mark: mark price]]></comment>
			<column name="price_type" type="CHAR" length="5" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="description" type="VARCHAR" length="16" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<index name="pk_price_type" unique="PRIMARY_KEY" >
				<column name="price_type" />
			</index>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="request" row_count="2" spec="" >
			<column name="request" type="BINARY" length="6" mandatory="y" />
			<column name="account" type="BINARY" length="3" mandatory="y" />
			<column name="instrument" type="BINARY" length="3" mandatory="y" />
			<column name="position" type="CHAR" length="5" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="action" type="CHAR" length="4" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="state" type="BINARY" length="3" mandatory="y" />
			<column name="price" type="DOUBLE" mandatory="y" >
				<defo><![CDATA[0]]></defo>
			</column>
			<column name="size" type="DOUBLE" mandatory="y" />
			<column name="leverage" type="INT" mandatory="y" />
			<column name="request_type" prior="order_type" type="BINARY" length="3" mandatory="y" />
			<column name="margin_mode" type="VARCHAR" length="10" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="reduce_only" type="BOOLEAN" mandatory="y" >
				<defo><![CDATA[false]]></defo>
			</column>
			<column name="memo" type="VARCHAR" length="200" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="broker_id" type="VARCHAR" length="16" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="expiry_time" type="DATETIME" length="3" mandatory="y" >
				<defo><![CDATA[now(3)]]></defo>
			</column>
			<column name="create_time" type="DATETIME" length="3" mandatory="y" >
				<defo><![CDATA[now(3)]]></defo>
			</column>
			<column name="update_time" type="DATETIME" length="3" mandatory="y" >
				<defo><![CDATA[now(3)]]></defo>
			</column>
			<index name="pk_request" unique="PRIMARY_KEY" >
				<column name="request" />
			</index>
			<index name="fk_r_request_type" unique="NORMAL" >
				<column name="request_type" />
			</index>
			<index name="fk_r_margin_mode" unique="NORMAL" >
				<column name="margin_mode" />
			</index>
			<index name="fk_r_account" unique="NORMAL" >
				<column name="account" />
			</index>
			<index name="fk_r_state" unique="NORMAL" >
				<column name="state" />
			</index>
			<index name="fk_r_instrument" unique="NORMAL" >
				<column name="instrument" />
			</index>
			<constraint name="ck_r_action" type="CHECK" options="" >
				<string><![CDATA[`action` in (_utf8mb4'buy',_utf8mb4'sell')]]></string>
			</constraint>
			<constraint name="ck_r_position" type="CHECK" options="" >
				<string><![CDATA[`position` in (_utf8mb4'long',_utf8mb4'net',_utf8mb4'short')]]></string>
			</constraint>
			<fk name="fk_r_account" to_schema="blofin" to_table="account" options="" >
				<fk_column name="account" pk="account" />
			</fk>
			<fk name="fk_r_instrument" to_schema="blofin" to_table="instrument" options="" >
				<fk_column name="instrument" pk="instrument" />
			</fk>
			<fk name="fk_r_margin_mode" to_schema="blofin" to_table="margin_mode" options="" >
				<fk_column name="margin_mode" pk="margin_mode" />
			</fk>
			<fk name="fk_r_request_type" to_schema="blofin" to_table="request_type" options="" >
				<fk_column name="request_type" pk="request_type" />
			</fk>
			<fk name="fk_r_state" to_schema="blofin" to_table="state" options="" >
				<fk_column name="state" pk="state" />
			</fk>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="request_type" prior="order_type" row_count="5" spec="" >
			<comment><![CDATA[market: market order
limit: limit order
post_only: Post-only order
fok: Fill-or-kill order
ioc: Immediate-or-cancel order]]></comment>
			<column name="request_type" prior="order_type" type="BINARY" length="3" mandatory="y" />
			<column name="source_ref" type="VARCHAR" length="10" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="description" type="VARCHAR" length="30" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<index name="pk_request_type" unique="PRIMARY_KEY" >
				<column name="request_type" />
			</index>
			<index name="ak_request_type" unique="UNIQUE_KEY" >
				<column name="source_ref" />
			</index>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="role" row_count="4" spec="" >
			<column name="role" type="BINARY" length="3" mandatory="y" />
			<column name="title" type="VARCHAR" length="30" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="auth_rank" type="SMALLINT" mandatory="y" />
			<index name="pk_role" unique="PRIMARY_KEY" >
				<column name="role" />
			</index>
			<index name="ak_role" unique="UNIQUE_KEY" >
				<column name="title" />
			</index>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="role_authority" row_count="192" spec="" >
			<column name="role_authority" type="BINARY" length="3" mandatory="y" />
			<column name="role" type="BINARY" length="3" mandatory="y" />
			<column name="authority" type="BINARY" length="3" mandatory="y" />
			<column name="subject" type="BINARY" length="3" mandatory="y" />
			<column name="enabled" type="BOOLEAN" mandatory="y" >
				<defo><![CDATA[true]]></defo>
			</column>
			<index name="pk_role_authority" unique="PRIMARY_KEY" >
				<column name="role_authority" />
			</index>
			<index name="ak_role_authority" unique="UNIQUE_KEY" >
				<column name="role" />
				<column name="authority" />
				<column name="subject" />
			</index>
			<index name="fk_ra_subject" unique="NORMAL" >
				<column name="subject" />
			</index>
			<index name="fk_ra_role" unique="NORMAL" >
				<column name="role" />
			</index>
			<index name="fk_ra_authority" unique="NORMAL" >
				<column name="authority" />
			</index>
			<fk name="fk_sra_authority" to_schema="blofin" to_table="authority" options="" >
				<fk_column name="authority" pk="authority" />
			</fk>
			<fk name="fk_sra_role" to_schema="blofin" to_table="role" options="" >
				<fk_column name="role" pk="role" />
			</fk>
			<fk name="fk_sra_subject" to_schema="blofin" to_table="subject" options="" >
				<fk_column name="subject" pk="subject" />
			</fk>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="state" row_count="12" spec="" >
			<column name="state" type="BINARY" length="3" mandatory="y" />
			<column name="status" type="VARCHAR" length="10" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="description" type="VARCHAR" length="60" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<index name="pk_state" unique="PRIMARY_KEY" >
				<column name="state" />
			</index>
			<index name="ak_trade_state" unique="UNIQUE_KEY" >
				<column name="status" />
			</index>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="stop_order" row_count="0" spec="" >
			<column name="stop_request" prior="request" type="BINARY" length="4" mandatory="y" />
			<column name="stop_type" type="CHAR" length="2" mandatory="y" />
			<column name="tpsl_id" type="BIGINT" mandatory="y" />
			<column name="order_state" prior="state" type="BINARY" length="3" mandatory="y" />
			<column name="actual_size" type="DOUBLE" mandatory="y" />
			<column name="broker_id" type="VARCHAR" length="16" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="create_time" type="DATETIME" length="3" mandatory="y" >
				<defo><![CDATA[now(3)]]></defo>
			</column>
			<index name="fk_so_order_state" unique="NORMAL" >
				<column name="order_state" />
			</index>
			<index name="pk_stop_order" unique="PRIMARY_KEY" >
				<column name="stop_request" />
				<column name="stop_type" />
			</index>
			<index name="fk_so_stop_type" unique="NORMAL" >
				<column name="stop_type" />
			</index>
			<index name="ak_stop_order" unique="UNIQUE_KEY" >
				<column name="tpsl_id" />
				<column name="stop_type" />
			</index>
			<constraint name="ck_so_action" type="CHECK" options="" >
				<string><![CDATA[`action` in (_utf8mb4'buy',_utf8mb4'sell')]]></string>
			</constraint>
			<fk name="fk_so_order_state" to_schema="blofin" to_table="order_state" options="" >
				<fk_column name="order_state" pk="order_state" />
			</fk>
			<fk name="fk_so_stop_type" to_schema="blofin" to_table="stop_type" >
				<fk_column name="stop_type" pk="stop_type" />
			</fk>
			<fk name="fk_so_stop_request" to_schema="blofin" to_table="stop_request" >
				<fk_column name="stop_request" pk="stop_request" />
			</fk>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="stop_request" prior="position_stop_request" >
			<column name="stop_request" prior="position_stop_request" type="BINARY" length="4" mandatory="y" />
			<column name="stop_type" type="CHAR" length="2" mandatory="y" />
			<column name="instrument_position" prior="instrument_position_state" type="BINARY" length="3" mandatory="y" />
			<column name="state" type="BINARY" length="3" mandatory="y" />
			<column name="action" type="CHAR" length="4" mandatory="y" />
			<column name="size" type="DOUBLE" />
			<column name="trigger_price" type="DOUBLE" mandatory="y" >
				<defo><![CDATA['0']]></defo>
			</column>
			<column name="order_price" type="DOUBLE" mandatory="y" >
				<defo><![CDATA['0']]></defo>
			</column>
			<column name="reduce_only" type="BOOLEAN" mandatory="y" >
				<defo><![CDATA[false]]></defo>
			</column>
			<column name="memo" type="VARCHAR" length="100" />
			<column name="create_time" type="DATETIME" length="3" mandatory="y" >
				<defo><![CDATA[now(3)]]></defo>
			</column>
			<index name="pk_position_request" unique="PRIMARY_KEY" >
				<column name="stop_request" />
				<column name="stop_type" />
			</index>
			<index name="fk_sr_stop_type" unique="NORMAL" >
				<column name="stop_type" />
			</index>
			<index name="fk_sr_instrument_position" unique="NORMAL" >
				<column name="instrument_position" />
			</index>
			<index name="fk_sr_state" unique="NORMAL" >
				<column name="state" />
			</index>
			<fk name="fk_sr_state" to_schema="blofin" to_table="state" >
				<fk_column name="state" pk="state" />
			</fk>
			<fk name="fk_sr_stop_type" to_schema="blofin" to_table="stop_type" >
				<fk_column name="stop_type" pk="stop_type" />
			</fk>
			<fk name="fk_sr_instrument_position" to_schema="blofin" to_table="instrument_position" >
				<fk_column name="instrument_position" pk="instrument_position" />
			</fk>
			<options><![CDATA[engine=InnoDB]]></options>
		</table>
		<table name="stop_type" prior="stop_typ" >
			<column name="stop_type" type="CHAR" length="2" mandatory="y" />
			<index name="pk_stop_type" unique="PRIMARY_KEY" >
				<column name="stop_type" />
			</index>
			<options><![CDATA[engine=InnoDB]]></options>
		</table>
		<table name="subject" row_count="8" spec="" >
			<column name="subject" type="BINARY" length="3" mandatory="y" />
			<column name="area" type="VARCHAR" length="60" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<index name="pk_subject" unique="PRIMARY_KEY" >
				<column name="subject" />
			</index>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="task_authority" row_count="0" spec="" >
			<column name="role_authority" type="BINARY" length="3" mandatory="y" />
			<column name="activity" type="BINARY" length="3" mandatory="y" />
			<index name="pk_task_authority" unique="PRIMARY_KEY" >
				<column name="role_authority" />
				<column name="activity" />
			</index>
			<index name="fk_ta_activity" unique="NORMAL" >
				<column name="activity" />
			</index>
			<fk name="fk_ta_activity" to_schema="blofin" to_table="activity" options="" >
				<fk_column name="activity" pk="activity" />
			</fk>
			<fk name="fk_ta_subject_role_authority" to_schema="blofin" to_table="role_authority" options="" >
				<fk_column name="role_authority" pk="role_authority" />
			</fk>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="user" row_count="0" spec="" >
			<column name="user" type="BINARY" length="3" mandatory="y" />
			<column name="email" type="VARCHAR" length="80" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="role" type="BINARY" length="3" mandatory="y" />
			<column name="hash" type="BINARY" length="16" mandatory="y" />
			<column name="username" type="VARCHAR" length="30" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="password" type="BINARY" length="32" mandatory="y" />
			<column name="state" type="BINARY" length="3" mandatory="y" />
			<column name="image_url" type="VARCHAR" length="60" mandatory="y" >
				<column_options><![CDATA[CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<column name="create_time" type="DATETIME" length="3" mandatory="y" >
				<defo><![CDATA[now(3)]]></defo>
			</column>
			<column name="update_time" type="DATETIME" length="3" mandatory="y" >
				<defo><![CDATA[now(3)]]></defo>
				<column_options><![CDATA[ON UPDATE CURRENT_TIMESTAMP]]></column_options>
			</column>
			<index name="pk_user" unique="PRIMARY_KEY" >
				<column name="user" />
			</index>
			<index name="ak_user" unique="UNIQUE_KEY" >
				<column name="username" />
				<column name="email" />
			</index>
			<index name="fk_u_role" unique="NORMAL" >
				<column name="role" />
			</index>
			<index name="fk_u_state" unique="NORMAL" >
				<column name="state" />
			</index>
			<fk name="fk_u_role" to_schema="blofin" to_table="role" options="" >
				<fk_column name="role" pk="role" />
			</fk>
			<fk name="fk_u_state" to_schema="blofin" to_table="state" options="" >
				<fk_column name="state" pk="state" />
			</fk>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<table name="user_account" row_count="4" spec="" >
			<column name="user" type="BINARY" length="3" mandatory="y" />
			<column name="account" type="BINARY" length="3" mandatory="y" />
			<column name="owner" type="BINARY" length="3" mandatory="y" />
			<column name="alias" type="VARCHAR" length="30" mandatory="y" >
				<column_options><![CDATA[COLLATE utf8mb4_0900_as_cs]]></column_options>
			</column>
			<index name="pk_user_account" unique="PRIMARY_KEY" >
				<column name="user" />
				<column name="account" />
			</index>
			<index name="ak_account_owner" unique="UNIQUE_KEY" >
				<column name="account" />
				<column name="owner" />
			</index>
			<index name="fk_ua_owner" unique="NORMAL" >
				<column name="owner" />
			</index>
			<index name="fk_ua_account" unique="NORMAL" >
				<column name="account" />
			</index>
			<fk name="fk_ua_account" to_schema="blofin" to_table="account" options="" >
				<fk_column name="account" pk="account" />
			</fk>
			<fk name="fk_ua_owner" to_schema="blofin" to_table="user" options="" >
				<fk_column name="owner" pk="user" />
			</fk>
			<fk name="fk_ua_user" to_schema="blofin" to_table="user" options="" >
				<fk_column name="user" pk="user" />
			</fk>
			<options><![CDATA[ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs]]></options>
		</table>
		<view name="vw_accounts" >
			<comment><![CDATA[VIEW]]></comment>
			<view_script><![CDATA[CREATE VIEW ${nameWithSchemaName} AS select `a`.`account` AS `account`,`a`.`broker` AS `broker`,`a`.`state` AS `state`,`s`.`status` AS `status`,`e`.`environment` AS `environment`,`e`.`environ` AS `environ`,`b`.`name` AS `broker_name`,`b`.`image_url` AS `broker_image_url`,`b`.`website_url` AS `broker_website_url`,`u`.`username` AS `owner_name`,`ua`.`alias` AS `alias`,`u`.`email` AS `owner_email`,`u`.`image_url` AS `owner_image_url`,`a`.`total_equity` AS `total_equity`,`a`.`isolated_equity` AS `isolated_equity`,`a`.`wss_url` AS `wss_url`,`a`.`rest_api_url` AS `rest_api_url`,`c`.`currency` AS `currency`,`c`.`symbol` AS `symbol`,`c`.`image_url` AS `currency_image_url`,`c`.`suspense` AS `currency_suspended`,`ad`.`balance` AS `balance`,`ad`.`equity` AS `currency_equity`,`ad`.`isolated_equity` AS `currency_isolated_equity`,`ad`.`equity` AS `equity`,`ad`.`available` AS `available`,`ad`.`available_equity` AS `available_equity`,`ad`.`equity_usd` AS `equity_usd`,`ad`.`frozen` AS `frozen`,`ad`.`order_frozen` AS `order_frozen`,`ad`.`borrow_frozen` AS `borrow_frozen`,`ad`.`unrealized_pnl` AS `unrealized_pnl`,`ad`.`isolated_unrealized_pnl` AS `isolated_unrealized_pnl`,`ad`.`coin_usd_price` AS `coin_usd_price`,`ad`.`margin_ratio` AS `margin_ratio`,`ad`.`spot_available` AS `spot_available`,`ad`.`liability` AS `liability`,`ad`.`update_time` AS `update_time` from (((((((`blofin`.`account` `a` left join `blofin`.`account_detail` `ad` on((`a`.`account` = `ad`.`account`))) left join `blofin`.`currency` `c` on((`ad`.`currency` = `c`.`currency`))) left join `blofin`.`user_account` `ua` on((`a`.`account` = `ua`.`account`))) left join `blofin`.`user` `u` on((`u`.`user` = `ua`.`owner`))) join `blofin`.`environment` `e`) join `blofin`.`broker` `b`) join `blofin`.`state` `s`) where ((`a`.`broker` = `b`.`broker`) and (`a`.`environment` = `e`.`environment`) and (`a`.`state` = `s`.`state`))]]></view_script>
			<column name="account" type="BINARY" />
			<column name="broker" type="BINARY" />
			<column name="state" type="BINARY" />
			<column name="status" type="VARCHAR" />
			<column name="environment" type="BINARY" />
			<column name="environ" type="VARCHAR" />
			<column name="broker_name" type="VARCHAR" />
			<column name="broker_image_url" type="VARCHAR" />
			<column name="broker_website_url" type="VARCHAR" />
			<column name="owner_name" type="VARCHAR" />
			<column name="alias" type="VARCHAR" />
			<column name="owner_email" type="VARCHAR" />
			<column name="owner_image_url" type="VARCHAR" />
			<column name="total_equity" type="DECIMAL" />
			<column name="isolated_equity" type="DECIMAL" />
			<column name="wss_url" type="VARCHAR" />
			<column name="rest_api_url" type="VARCHAR" />
			<column name="currency" type="BINARY" />
			<column name="symbol" type="VARCHAR" />
			<column name="currency_image_url" type="VARCHAR" />
			<column name="currency_suspended" type="BIT" />
			<column name="balance" type="DECIMAL" />
			<column name="currency_equity" type="DECIMAL" />
			<column name="currency_isolated_equity" type="DECIMAL" />
			<column name="equity" type="DECIMAL" />
			<column name="available" type="DECIMAL" />
			<column name="available_equity" type="DECIMAL" />
			<column name="equity_usd" type="DECIMAL" />
			<column name="frozen" type="DECIMAL" />
			<column name="order_frozen" type="DECIMAL" />
			<column name="borrow_frozen" type="DECIMAL" />
			<column name="unrealized_pnl" type="DECIMAL" />
			<column name="isolated_unrealized_pnl" type="DECIMAL" />
			<column name="coin_usd_price" type="DECIMAL" />
			<column name="margin_ratio" type="DECIMAL" />
			<column name="spot_available" type="DECIMAL" />
			<column name="liability" type="DECIMAL" />
			<column name="update_time" type="DATETIME" />
		</view>
		<view name="vw_api_requests" >
			<comment><![CDATA[VIEW]]></comment>
			<view_script><![CDATA[CREATE VIEW ${nameWithSchemaName} AS select `r`.`account` AS `account`,ifnull(`os`.`map_ref`,`rs`.`status`) AS `status`,concat(`b`.`symbol`,'-',`q`.`symbol`) AS `instId`,`r`.`margin_mode` AS `marginMode`,`r`.`position` AS `positionSide`,`r`.`action` AS `side`,`rt`.`source_ref` AS `orderType`,replace(format(`r`.`price`,(length(substring_index(cast(`id`.`tick_size` as char charset utf8mb4),'.',-(1))) + 1)),',','') AS `price`,replace(format(`r`.`size`,(length(substring_index(cast(`id`.`tick_size` as char charset utf8mb4),'.',-(1))) + 1)),',','') AS `size`,if((`r`.`reduce_only` = 0),'false','true') AS `reduceOnly`,`r`.`broker_id` AS `brokerId`,cast(hex(`r`.`request`) as char charset utf8mb4) AS `clientOrderId`,`r`.`memo` AS `memo`,`r`.`expiry_time` AS `expiry_time` from ((((((((`blofin`.`request` `r` left join `blofin`.`orders` `o` on((`r`.`request` = `o`.`request`))) left join `blofin`.`order_state` `os` on((`o`.`order_state` = `os`.`order_state`))) join `blofin`.`instrument` `i` on((`r`.`instrument` = `i`.`instrument`))) join `blofin`.`instrument_detail` `id` on((`i`.`instrument` = `id`.`instrument`))) join `blofin`.`currency` `b` on((`i`.`base_currency` = `b`.`currency`))) join `blofin`.`currency` `q` on((`i`.`quote_currency` = `q`.`currency`))) join `blofin`.`request_type` `rt` on((`r`.`request_type` = `rt`.`request_type`))) join `blofin`.`state` `rs` on((`r`.`state` = `rs`.`state`)))]]></view_script>
			<column name="account" type="BINARY" />
			<column name="status" type="VARCHAR" />
			<column name="instId" type="VARCHAR" />
			<column name="marginMode" type="VARCHAR" />
			<column name="positionSide" type="CHAR" />
			<column name="side" type="CHAR" />
			<column name="orderType" type="VARCHAR" />
			<column name="price" type="VARCHAR" />
			<column name="size" type="VARCHAR" />
			<column name="reduceOnly" type="VARCHAR" />
			<column name="brokerId" type="VARCHAR" />
			<column name="clientOrderId" type="VARCHAR" />
			<column name="memo" type="VARCHAR" />
			<column name="expiry_time" type="DATETIME" />
		</view>
		<view name="vw_api_stop_requests" >
			<comment><![CDATA[VIEW]]></comment>
			<view_script><![CDATA[CREATE VIEW ${nameWithSchemaName} AS select `s`.`status` AS `status`,`blofin`.`vip`.`symbol` AS `instId`,`blofin`.`vip`.`position` AS `positionSide`,`sr`.`action` AS `side`,`sr`.`size` AS `size`,if((`sr`.`stop_type` = 'tp'),replace(format(`sr`.`trigger_price`,`blofin`.`vip`.`digits`),',',''),NULL) AS `tpTriggerPrice`,if((`sr`.`stop_type` = 'tp'),replace(format(`sr`.`order_price`,`blofin`.`vip`.`digits`),',',''),NULL) AS `tpOrderPrice`,if((`sr`.`stop_type` = 'sl'),replace(format(`sr`.`trigger_price`,`blofin`.`vip`.`digits`),',',''),NULL) AS `slTriggerPrice`,if((`sr`.`stop_type` = 'sl'),replace(format(`sr`.`order_price`,`blofin`.`vip`.`digits`),',',''),NULL) AS `slOrderPrice`,`sr`.`reduce_only` AS `reduceOnly`,concat(lower(cast(hex(`sr`.`stop_request`) as char charset utf8mb4)),'-',`sr`.`stop_type`) AS `clientOrderId` from ((`blofin`.`stop_request` `sr` join `blofin`.`state` `s` on((`sr`.`state` = `s`.`state`))) join `blofin`.`vw_instrument_positions` `vip` on((`sr`.`instrument_position` = `blofin`.`vip`.`instrument_position`)))]]></view_script>
			<column name="status" type="VARCHAR" />
			<column name="instId" type="VARCHAR" />
			<column name="positionSide" type="CHAR" />
			<column name="side" type="CHAR" />
			<column name="size" type="DOUBLE" />
			<column name="tpTriggerPrice" type="VARCHAR" />
			<column name="tpOrderPrice" type="VARCHAR" />
			<column name="slTriggerPrice" type="VARCHAR" />
			<column name="slOrderPrice" type="VARCHAR" />
			<column name="reduceOnly" type="BIT" />
			<column name="clientOrderId" type="VARCHAR" />
		</view>
		<view name="vw_candle_audit" >
			<comment><![CDATA[VIEW]]></comment>
			<view_script><![CDATA[CREATE VIEW ${nameWithSchemaName} AS select `blofin`.`vc`.`symbol` AS `symbol`,cast(date_format(`blofin`.`vc`.`bar_time`,'%Y-%m-%d %k:00:00') as datetime) AS `hour`,count(0) AS `samplecount` from `blofin`.`vw_candles` `vc` group by `blofin`.`vc`.`symbol`,cast(date_format(`blofin`.`vc`.`bar_time`,'%Y-%m-%d %k:00:00') as datetime) having (count(0) < 4) order by `blofin`.`vc`.`symbol`,`hour` desc]]></view_script>
			<column name="symbol" type="VARCHAR" />
			<column name="hour" type="DATETIME" />
			<column name="samplecount" type="BIGINT" />
		</view>
		<view name="vw_candles" >
			<comment><![CDATA[VIEW]]></comment>
			<view_script><![CDATA[CREATE VIEW ${nameWithSchemaName} AS select `blofin`.`i`.`instrument` AS `instrument`,concat(`b`.`symbol`,'-',`q`.`symbol`) AS `symbol`,`b`.`currency` AS `base_currency`,`b`.`symbol` AS `base_symbol`,`q`.`currency` AS `quote_currency`,`q`.`symbol` AS `quote_symbol`,`pt`.`period` AS `period`,`pt`.`timeframe` AS `timeframe`,`c`.`bar_time` AS `bar_time`,unix_timestamp(`c`.`bar_time`) AS `timestamp`,`c`.`open` AS `open`,`c`.`high` AS `high`,`c`.`low` AS `low`,`c`.`close` AS `close`,`c`.`volume` AS `volume`,`c`.`vol_currency` AS `vol_currency`,`c`.`vol_currency_quote` AS `vol_currency_quote`,`blofin`.`i`.`digits` AS `digits`,`c`.`completed` AS `completed` from (((((`blofin`.`vw_instruments` `i` join `blofin`.`instrument_period` `ip`) join `blofin`.`period` `pt`) join `blofin`.`currency` `b`) join `blofin`.`currency` `q`) join `blofin`.`candle` `c`) where ((`c`.`instrument` = `blofin`.`i`.`instrument`) and (`c`.`period` = `pt`.`period`) and (`blofin`.`i`.`base_currency` = `b`.`currency`) and (`blofin`.`i`.`quote_currency` = `q`.`currency`) and (`blofin`.`i`.`instrument` = `ip`.`instrument`) and (`ip`.`period` = `pt`.`period`))]]></view_script>
			<column name="instrument" type="BINARY" />
			<column name="symbol" type="VARCHAR" />
			<column name="base_currency" type="BINARY" />
			<column name="base_symbol" type="VARCHAR" />
			<column name="quote_currency" type="BINARY" />
			<column name="quote_symbol" type="VARCHAR" />
			<column name="period" type="BINARY" />
			<column name="timeframe" type="VARCHAR" />
			<column name="bar_time" type="DATETIME" />
			<column name="timestamp" type="BIGINT" />
			<column name="open" type="DOUBLE" />
			<column name="high" type="DOUBLE" />
			<column name="low" type="DOUBLE" />
			<column name="close" type="DOUBLE" />
			<column name="volume" type="INT" />
			<column name="vol_currency" type="INT" />
			<column name="vol_currency_quote" type="INT" />
			<column name="completed" type="BIT" />
			<column name="digits" type="BIGINT" />
		</view>
		<view name="vw_instrument_periods" >
			<comment><![CDATA[VIEW]]></comment>
			<view_script><![CDATA[CREATE VIEW ${nameWithSchemaName} AS select `i`.`instrument` AS `instrument`,concat(`b`.`symbol`,'-',`q`.`symbol`) AS `symbol`,`b`.`currency` AS `base_currency`,`b`.`symbol` AS `base_symbol`,`q`.`currency` AS `quote_currency`,`q`.`symbol` AS `quote_symbol`,`p`.`period` AS `period`,`p`.`timeframe` AS `timeframe`,`p`.`timeframe_units` AS `timeframe_units`,`ip`.`bulk_collection_rate` AS `bulk_collection_rate`,if((`ip`.`bulk_collection_rate` = 0),0,if((`ip`.`interval_collection_rate` > 4),`ip`.`interval_collection_rate`,4)) AS `interval_collection_rate`,`ip`.`sma_factor` AS `sma_factor`,(length(substring_index(cast(`id`.`tick_size` as char charset utf8mb4),'.',-(1))) + 1) AS `digits`,`s`.`state` AS `trade_state`,`s`.`status` AS `trade_status`,if((`ip`.`bulk_collection_rate` > 0),true,false) AS `active_collection`,`b`.`suspense` AS `suspense` from (((((((`blofin`.`instrument` `i` join `blofin`.`state` `s`) join `blofin`.`instrument_period` `ip`) join `blofin`.`period` `p`) join `blofin`.`instrument_detail` `id`) join `blofin`.`currency` `b`) join `blofin`.`currency` `q`) join (select `ipts`.`instrument` AS `instrument`,`ipts`.`period` AS `period`,if((`its`.`trade_period` = `ipts`.`period`),`its`.`trade_state`,0x1697fe) AS `trade_state` from (`blofin`.`instrument_period` `ipts` join `blofin`.`instrument` `its`) where (`ipts`.`instrument` = `its`.`instrument`)) `tps`) where ((`ip`.`instrument` = `i`.`instrument`) and (`ip`.`period` = `p`.`period`) and (`ip`.`instrument` = `tps`.`instrument`) and (`ip`.`period` = `tps`.`period`) and (`tps`.`trade_state` = `s`.`state`) and (`i`.`instrument` = `id`.`instrument`) and (`i`.`base_currency` = `b`.`currency`) and (`i`.`quote_currency` = `q`.`currency`))]]></view_script>
			<column name="instrument" type="BINARY" />
			<column name="symbol" type="VARCHAR" />
			<column name="base_currency" type="BINARY" />
			<column name="base_symbol" type="VARCHAR" />
			<column name="quote_currency" type="BINARY" />
			<column name="quote_symbol" type="VARCHAR" />
			<column name="period" type="BINARY" />
			<column name="timeframe" type="VARCHAR" />
			<column name="timeframe_units" type="INT" />
			<column name="bulk_collection_rate" type="SMALLINT" />
			<column name="interval_collection_rate" type="INT" />
			<column name="sma_factor" type="SMALLINT" />
			<column name="digits" type="BIGINT" />
			<column name="trade_state" type="BINARY" />
			<column name="trade_status" type="VARCHAR" />
			<column name="active_collection" type="INT" />
			<column name="suspense" type="BIT" />
		</view>
		<view name="vw_instrument_positions" >
			<comment><![CDATA[VIEW]]></comment>
			<view_script><![CDATA[CREATE VIEW ${nameWithSchemaName} AS select `ip`.`instrument_position` AS `instrument_position`,`ip`.`instrument` AS `instrument`,`ip`.`position` AS `position`,`blofin`.`vi`.`symbol` AS `symbol`,`ip`.`state` AS `state`,`s`.`status` AS `status`,`ip`.`auto_state` AS `auto_state`,`auto`.`status` AS `auto_status`,`id`.`digits` AS `digits`,ifnull(`r`.`open_request`,0) AS `open_request`,ifnull(`tp`.`open_take_profit`,0) AS `open_take_profit`,ifnull(`sl`.`open_stop_loss`,0) AS `open_stop_loss`,`ip`.`update_time` AS `update_time`,`ip`.`close_time` AS `close_time`,`r`.`create_time` AS `create_time` from (((((((`blofin`.`instrument_position` `ip` join `blofin`.`vw_instruments` `vi` on((`ip`.`instrument` = `blofin`.`vi`.`instrument`))) join `blofin`.`state` `s` on((`ip`.`state` = `s`.`state`))) join `blofin`.`state` `auto` on((`ip`.`auto_state` = `auto`.`state`))) join (select `blofin`.`instrument_detail`.`instrument` AS `instrument`,(length(substring_index(cast(`blofin`.`instrument_detail`.`tick_size` as char charset utf8mb4),'.',-(1))) + 1) AS `digits` from `blofin`.`instrument_detail`) `id` on((`ip`.`instrument` = `id`.`instrument`))) left join (select `rp`.`instrument_position` AS `instrument_position`,max(`r`.`create_time`) AS `create_time`,count(0) AS `open_request` from ((`blofin`.`state` `s` join `blofin`.`request` `r` on(((`r`.`state` = `s`.`state`) and (`s`.`status` in ('Pending','Queued'))))) join `blofin`.`instrument_position` `rp` on(((`r`.`instrument` = `rp`.`instrument`) and (`r`.`position` = `rp`.`position`)))) group by `rp`.`instrument_position`) `r` on((`ip`.`instrument_position` = `r`.`instrument_position`))) left join (select `sr`.`instrument_position` AS `instrument_position`,count(0) AS `open_take_profit` from (`blofin`.`state` `s` join `blofin`.`stop_request` `sr` on(((`sr`.`state` = `s`.`state`) and (`s`.`status` in ('Pending','Queued'))))) where (`sr`.`stop_type` = 'tp') group by `sr`.`instrument_position`,`sr`.`stop_type`) `tp` on((`ip`.`instrument_position` = `tp`.`instrument_position`))) left join (select `sr`.`instrument_position` AS `instrument_position`,count(0) AS `open_stop_loss` from (`blofin`.`state` `s` join `blofin`.`stop_request` `sr` on(((`sr`.`state` = `s`.`state`) and (`s`.`status` in ('Pending','Queued'))))) where (`sr`.`stop_type` = 'sl') group by `sr`.`instrument_position`,`sr`.`stop_type`) `sl` on((`ip`.`instrument_position` = `sl`.`instrument_position`)))]]></view_script>
			<column name="instrument_position" type="BINARY" />
			<column name="instrument" type="BINARY" />
			<column name="symbol" type="VARCHAR" />
			<column name="position" type="CHAR" />
			<column name="state" type="BINARY" />
			<column name="status" type="VARCHAR" />
			<column name="auto_state" type="BINARY" />
			<column name="auto_status" type="VARCHAR" />
			<column name="digits" type="BIGINT" />
			<column name="open_request" type="BIGINT" />
			<column name="open_take_profit" type="BIGINT" />
			<column name="open_stop_loss" type="BIGINT" />
			<column name="update_time" type="DATETIME" />
			<column name="close_time" type="DATETIME" />
			<column name="create_time" type="DATETIME" />
		</view>
		<view name="vw_instruments" >
			<comment><![CDATA[VIEW]]></comment>
			<view_script><![CDATA[CREATE VIEW ${nameWithSchemaName} AS select `i`.`instrument` AS `instrument`,concat(`b`.`symbol`,'-',`q`.`symbol`) AS `symbol`,`b`.`currency` AS `base_currency`,`b`.`symbol` AS `base_symbol`,`q`.`currency` AS `quote_currency`,`q`.`symbol` AS `quote_symbol`,`it`.`source_ref` AS `instrument_type`,`ct`.`source_ref` AS `contract_type`,`tp`.`period` AS `trade_period`,`tp`.`timeframe` AS `trade_timeframe`,`tp`.`timeframe_units` AS `timeframe_units`,`ip`.`bulk_collection_rate` AS `bulk_collection_rate`,if(((`ip`.`bulk_collection_rate` = 0) or (`ip`.`bulk_collection_rate` is null)),NULL,if((`ip`.`interval_collection_rate` > 4),`ip`.`interval_collection_rate`,4)) AS `interval_collection_rate`,`ip`.`sma_factor` AS `sma_factor`,`id`.`contract_value` AS `contract_value`,`id`.`max_leverage` AS `max_leverage`,`id`.`min_size` AS `min_size`,`id`.`lot_size` AS `lot_size`,`id`.`tick_size` AS `tick_size`,(length(substring_index(cast(`id`.`tick_size` as char charset utf8mb4),'.',-(1))) + 1) AS `digits`,`id`.`max_limit_size` AS `max_limit_size`,`id`.`max_market_size` AS `max_market_size`,`id`.`list_time` AS `list_time`,unix_timestamp(`id`.`list_time`) AS `list_timestamp`,`id`.`expiry_time` AS `expiry_time`,unix_timestamp(`id`.`expiry_time`) AS `expiry_timestamp`,`s`.`state` AS `trade_state`,`s`.`status` AS `trade_status`,`b`.`suspense` AS `suspense` from ((((((((`blofin`.`instrument` `i` left join `blofin`.`instrument_period` `ip` on(((`i`.`trade_period` = `ip`.`period`) and (`i`.`instrument` = `ip`.`instrument`)))) left join `blofin`.`instrument_detail` `id` on((`i`.`instrument` = `id`.`instrument`))) left join `blofin`.`instrument_type` `it` on((`id`.`instrument_type` = `it`.`instrument_type`))) left join `blofin`.`contract_type` `ct` on((`id`.`contract_type` = `ct`.`contract_type`))) left join `blofin`.`period` `tp` on((`i`.`trade_period` = `tp`.`period`))) join `blofin`.`state` `s`) join `blofin`.`currency` `b`) join `blofin`.`currency` `q`) where ((`i`.`trade_state` = `s`.`state`) and (`i`.`base_currency` = `b`.`currency`) and (`i`.`quote_currency` = `q`.`currency`))]]></view_script>
			<column name="instrument" type="BINARY" />
			<column name="symbol" type="VARCHAR" />
			<column name="base_currency" type="BINARY" />
			<column name="base_symbol" type="VARCHAR" />
			<column name="quote_currency" type="BINARY" />
			<column name="quote_symbol" type="VARCHAR" />
			<column name="instrument_type" type="VARCHAR" />
			<column name="contract_type" type="VARCHAR" />
			<column name="trade_period" type="BINARY" />
			<column name="trade_timeframe" type="VARCHAR" />
			<column name="timeframe_units" type="INT" />
			<column name="bulk_collection_rate" type="SMALLINT" />
			<column name="interval_collection_rate" type="INT" />
			<column name="sma_factor" type="SMALLINT" />
			<column name="contract_value" type="DECIMAL" />
			<column name="max_leverage" type="INT" />
			<column name="min_size" type="DECIMAL" />
			<column name="lot_size" type="DECIMAL" />
			<column name="tick_size" type="DOUBLE" />
			<column name="digits" type="BIGINT" />
			<column name="max_limit_size" type="DECIMAL" />
			<column name="max_market_size" type="DECIMAL" />
			<column name="list_time" type="DATETIME" />
			<column name="list_timestamp" type="BIGINT" />
			<column name="expiry_time" type="DATETIME" />
			<column name="expiry_timestamp" type="BIGINT" />
			<column name="trade_state" type="BINARY" />
			<column name="trade_status" type="VARCHAR" />
			<column name="suspense" type="BIT" />
		</view>
		<view name="vw_order_states" >
			<comment><![CDATA[VIEW]]></comment>
			<view_script><![CDATA[CREATE VIEW ${nameWithSchemaName} AS select `s`.`state` AS `state`,`s`.`status` AS `status`,`os`.`order_state` AS `order_state`,`os`.`source_ref` AS `order_status`,`s`.`description` AS `description` from (`blofin`.`state` `s` join `blofin`.`order_state` `os` on((`s`.`status` = `os`.`map_ref`)))]]></view_script>
			<column name="state" type="BINARY" />
			<column name="status" type="VARCHAR" />
			<column name="description" type="VARCHAR" />
			<column name="order_state" type="BINARY" />
			<column name="order_status" type="VARCHAR" />
		</view>
		<view name="vw_orders" >
			<comment><![CDATA[VIEW]]></comment>
			<view_script><![CDATA[CREATE VIEW ${nameWithSchemaName} AS select `o`.`request` AS `request`,`o`.`order_id` AS `order_id`,cast(hex(`r`.`request`) as char charset utf8mb4) AS `client_order_id`,`r`.`account` AS `account`,`r`.`instrument` AS `instrument`,`blofin`.`i`.`symbol` AS `symbol`,`blofin`.`i`.`base_currency` AS `base_currency`,`blofin`.`i`.`base_symbol` AS `base_symbol`,`blofin`.`i`.`quote_currency` AS `quote_currency`,`blofin`.`i`.`quote_symbol` AS `quote_symbol`,`blofin`.`i`.`instrument_type` AS `instrument_type`,`s`.`state` AS `state`,`s`.`status` AS `status`,`os`.`order_state` AS `order_state`,`os`.`source_ref` AS `order_status`,`rs`.`state` AS `request_state`,`rs`.`status` AS `request_status`,`rt`.`request_type` AS `request_type`,`rt`.`source_ref` AS `order_type`,`o`.`position` AS `position`,`o`.`action` AS `action`,`o`.`price` AS `price`,`o`.`size` AS `size`,`o`.`leverage` AS `leverage`,`o`.`margin_mode` AS `margin_mode`,`cat`.`order_category` AS `order_category`,`cat`.`source_ref` AS `category`,`blofin`.`i`.`contract_type` AS `contract_type`,`blofin`.`i`.`trade_period` AS `trade_period`,`blofin`.`i`.`trade_timeframe` AS `trade_timeframe`,`o`.`filled_size` AS `filled_size`,`o`.`filled_amount` AS `filled_amount`,`o`.`average_price` AS `average_price`,`o`.`fee` AS `fee`,`o`.`pnl` AS `pnl`,`can`.`cancel_source` AS `cancel_source`,`can`.`source_ref` AS `canceled_by`,`o`.`reduce_only` AS `reduce_only`,`o`.`broker_id` AS `broker_id`,`blofin`.`i`.`digits` AS `digits`,`blofin`.`i`.`trade_state` AS `trade_state`,`blofin`.`i`.`trade_status` AS `trade_status`,`blofin`.`i`.`suspense` AS `suspense`,`r`.`memo` AS `memo`,`o`.`create_time` AS `create_time`,`o`.`update_time` AS `update_time`,`r`.`expiry_time` AS `expiry_time` from ((((((((`blofin`.`orders` `o` join `blofin`.`request` `r` on((`r`.`request` = `o`.`request`))) join `blofin`.`request_type` `rt` on((`o`.`request_type` = `rt`.`request_type`))) join `blofin`.`order_state` `os` on((`o`.`order_state` = `os`.`order_state`))) join `blofin`.`cancel_source` `can` on((`o`.`cancel_source` = `can`.`cancel_source`))) join `blofin`.`order_category` `cat` on((`o`.`order_category` = `cat`.`order_category`))) join `blofin`.`vw_instruments` `i` on((`r`.`instrument` = `blofin`.`i`.`instrument`))) join `blofin`.`state` `s` on((`r`.`state` = `s`.`state`))) join `blofin`.`state` `rs` on((`os`.`map_ref` = `rs`.`status`)))]]></view_script>
			<column name="request" type="BINARY" />
			<column name="order_id" type="BIGINT" />
			<column name="client_order_id" type="VARCHAR" />
			<column name="account" type="BINARY" />
			<column name="instrument" type="BINARY" />
			<column name="symbol" type="VARCHAR" />
			<column name="base_currency" type="BINARY" />
			<column name="base_symbol" type="VARCHAR" />
			<column name="quote_currency" type="BINARY" />
			<column name="quote_symbol" type="VARCHAR" />
			<column name="instrument_type" type="VARCHAR" />
			<column name="state" type="BINARY" />
			<column name="status" type="VARCHAR" />
			<column name="order_state" type="BINARY" />
			<column name="order_status" type="VARCHAR" />
			<column name="request_state" type="BINARY" />
			<column name="request_status" type="VARCHAR" />
			<column name="request_type" type="BINARY" />
			<column name="order_type" type="VARCHAR" />
			<column name="position" type="CHAR" />
			<column name="action" type="CHAR" />
			<column name="price" type="DOUBLE" />
			<column name="size" type="DOUBLE" />
			<column name="leverage" type="INT" />
			<column name="margin_mode" type="VARCHAR" />
			<column name="order_category" type="BINARY" />
			<column name="category" type="VARCHAR" />
			<column name="contract_type" type="VARCHAR" />
			<column name="trade_period" type="BINARY" />
			<column name="trade_timeframe" type="VARCHAR" />
			<column name="filled_size" type="DOUBLE" />
			<column name="filled_amount" type="DOUBLE" />
			<column name="average_price" type="DOUBLE" />
			<column name="fee" type="DOUBLE" />
			<column name="pnl" type="DOUBLE" />
			<column name="cancel_source" type="BINARY" />
			<column name="canceled_by" type="VARCHAR" />
			<column name="reduce_only" type="BIT" />
			<column name="broker_id" type="VARCHAR" />
			<column name="digits" type="BIGINT" />
			<column name="trade_state" type="BINARY" />
			<column name="trade_status" type="VARCHAR" />
			<column name="suspense" type="BIT" />
			<column name="memo" type="VARCHAR" />
			<column name="create_time" type="DATETIME" />
			<column name="update_time" type="DATETIME" />
			<column name="expiry_time" type="DATETIME" />
		</view>
		<view name="vw_positions" >
			<comment><![CDATA[VIEW]]></comment>
			<view_script><![CDATA[CREATE VIEW ${nameWithSchemaName} AS select `p`.`positions` AS `positions`,`i`.`instrument` AS `instrument`,concat(`b`.`symbol`,'-',`q`.`symbol`) AS `symbol`,`p`.`position` AS `position`,`it`.`source_ref` AS `instrument_type`,if((`p`.`positions` > 0),'buy','sell') AS `action`,if((`p`.`positions` < 0),'buy','sell') AS `counter_action`,`p`.`size` AS `size`,`p`.`size_available` AS `size_available`,`p`.`leverage` AS `leverage`,(length(substring_index(cast(`id`.`tick_size` as char charset utf8mb4),'.',-(1))) + 1) AS `digits`,`p`.`margin_mode` AS `margin_mode`,`p`.`margin_ratio` AS `margin_ratio`,replace(format(`p`.`margin_initial`,3),',','') AS `margin_initial`,replace(format(`p`.`margin_maint`,3),',','') AS `margin_maint`,replace(format(`p`.`average_price`,(length(substring_index(cast(`id`.`tick_size` as char charset utf8mb4),'.',-(1))) + 1)),',','') AS `average_price`,replace(format(`p`.`liquidation_price`,(length(substring_index(cast(`id`.`tick_size` as char charset utf8mb4),'.',-(1))) + 1)),',','') AS `liquidation_price`,replace(format(`p`.`mark_price`,(length(substring_index(cast(`id`.`tick_size` as char charset utf8mb4),'.',-(1))) + 1)),',','') AS `mark_price`,replace(format(`p`.`unrealized_pnl`,3),',','') AS `unrealized_pnl`,`p`.`unrealized_pnl_ratio` AS `unrealized_pnl_ratio`,`p`.`adl` AS `adl`,`s`.`state` AS `state`,`s`.`status` AS `status`,`p`.`create_time` AS `create_time`,`p`.`update_time` AS `update_time` from (((((((`blofin`.`positions` `p` join `blofin`.`instrument` `i` on((`p`.`instrument` = `i`.`instrument`))) join `blofin`.`instrument_detail` `id` on((`i`.`instrument` = `id`.`instrument`))) join `blofin`.`instrument_type` `it` on((`id`.`instrument_type` = `it`.`instrument_type`))) join `blofin`.`currency` `b` on((`i`.`base_currency` = `b`.`currency`))) join `blofin`.`currency` `q` on((`i`.`quote_currency` = `q`.`currency`))) join `blofin`.`instrument_position` `ip` on(((`ip`.`instrument` = `i`.`instrument`) and (`ip`.`position` = `p`.`position`)))) join `blofin`.`state` `s` on((`ip`.`state` = `s`.`state`)))]]></view_script>
			<column name="positions" type="BINARY" />
			<column name="instrument" type="BINARY" />
			<column name="symbol" type="VARCHAR" />
			<column name="position" type="CHAR" />
			<column name="state" type="BINARY" />
			<column name="status" type="VARCHAR" />
			<column name="action" type="VARCHAR" />
			<column name="counter_action" type="VARCHAR" />
			<column name="size" type="DOUBLE" />
			<column name="size_available" type="DOUBLE" />
			<column name="leverage" type="INT" />
			<column name="instrument_type" type="VARCHAR" />
			<column name="margin_mode" type="VARCHAR" />
			<column name="margin_ratio" type="DECIMAL" />
			<column name="margin_initial" type="VARCHAR" />
			<column name="margin_maint" type="VARCHAR" />
			<column name="average_price" type="VARCHAR" />
			<column name="liquidation_price" type="VARCHAR" />
			<column name="mark_price" type="VARCHAR" />
			<column name="unrealized_pnl" type="VARCHAR" />
			<column name="unrealized_pnl_ratio" type="DECIMAL" />
			<column name="digits" type="BIGINT" />
			<column name="adl" type="TINYINT" />
			<column name="create_time" type="DATETIME" />
			<column name="update_time" type="DATETIME" />
		</view>
		<view name="vw_requests" >
			<comment><![CDATA[VIEW]]></comment>
			<view_script><![CDATA[CREATE VIEW ${nameWithSchemaName} AS select `r`.`request` AS `request`,`o`.`order_id` AS `order_id`,`r`.`account` AS `account`,`r`.`instrument` AS `instrument`,concat(`b`.`symbol`,'-',`q`.`symbol`) AS `symbol`,`s`.`state` AS `state`,`s`.`status` AS `status`,`rs`.`state` AS `order_state`,`os`.`map_ref` AS `order_status`,`r`.`margin_mode` AS `margin_mode`,`r`.`position` AS `position`,`r`.`action` AS `action`,`r`.`request_type` AS `request_type`,`rt`.`source_ref` AS `order_type`,`r`.`price` AS `price`,`r`.`size` AS `size`,`r`.`leverage` AS `leverage`,`blofin`.`i`.`digits` AS `digits`,`r`.`memo` AS `memo`,`r`.`reduce_only` AS `reduce_only`,`r`.`broker_id` AS `broker_id`,`r`.`expiry_time` AS `expiry_time`,`r`.`create_time` AS `create_time` from ((((((((`blofin`.`request` `r` left join `blofin`.`orders` `o` on((`r`.`request` = `o`.`request`))) left join `blofin`.`order_state` `os` on((`o`.`order_state` = `os`.`order_state`))) left join `blofin`.`state` `rs` on((`os`.`map_ref` = `rs`.`status`))) join `blofin`.`vw_instruments` `i`) join `blofin`.`currency` `b`) join `blofin`.`currency` `q`) join `blofin`.`request_type` `rt`) join `blofin`.`state` `s`) where ((`r`.`instrument` = `blofin`.`i`.`instrument`) and (`r`.`request_type` = `rt`.`request_type`) and (`r`.`state` = `s`.`state`) and (`blofin`.`i`.`base_currency` = `b`.`currency`) and (`blofin`.`i`.`quote_currency` = `q`.`currency`))]]></view_script>
			<column name="request" type="BINARY" />
			<column name="order_id" type="BIGINT" />
			<column name="account" type="BINARY" />
			<column name="instrument" type="BINARY" />
			<column name="symbol" type="VARCHAR" />
			<column name="state" type="BINARY" />
			<column name="status" type="VARCHAR" />
			<column name="order_state" type="BINARY" />
			<column name="order_status" type="VARCHAR" />
			<column name="position" type="CHAR" />
			<column name="action" type="CHAR" />
			<column name="request_type" type="BINARY" />
			<column name="order_type" type="VARCHAR" />
			<column name="price" type="DOUBLE" />
			<column name="size" type="DOUBLE" />
			<column name="leverage" type="INT" />
			<column name="margin_mode" type="VARCHAR" />
			<column name="reduce_only" type="BIT" />
			<column name="digits" type="BIGINT" />
			<column name="broker_id" type="VARCHAR" />
			<column name="memo" type="VARCHAR" />
			<column name="create_time" type="DATETIME" />
			<column name="expiry_time" type="DATETIME" />
		</view>
		<view name="vw_role_privileges" >
			<comment><![CDATA[VIEW]]></comment>
			<view_script><![CDATA[CREATE VIEW ${nameWithSchemaName} AS select `ra`.`role_authority` AS `role_authority`,`r`.`role` AS `role`,`r`.`title` AS `title`,`s`.`subject` AS `subject`,`s`.`area` AS `area`,`auth`.`authority` AS `authority`,`auth`.`privilege` AS `privilege`,`auth`.`priority` AS `priority`,`ra`.`enabled` AS `enabled` from (((`blofin`.`role` `r` join `blofin`.`subject` `s`) join `blofin`.`authority` `auth`) join `blofin`.`role_authority` `ra`) where ((`ra`.`subject` = `s`.`subject`) and (`ra`.`role` = `r`.`role`) and (`ra`.`authority` = `auth`.`authority`))]]></view_script>
			<column name="role_authority" type="BINARY" />
			<column name="role" type="BINARY" />
			<column name="title" type="VARCHAR" />
			<column name="subject" type="BINARY" />
			<column name="area" type="VARCHAR" />
			<column name="authority" type="BINARY" />
			<column name="privilege" type="VARCHAR" />
			<column name="priority" type="SMALLINT" />
			<column name="enabled" type="BIT" />
		</view>
		<view name="vw_role_subjects" >
			<comment><![CDATA[VIEW]]></comment>
			<view_script><![CDATA[CREATE VIEW ${nameWithSchemaName} AS select `r`.`role` AS `role`,`r`.`title` AS `title`,`s`.`subject` AS `subject`,`s`.`area` AS `area` from (((`blofin`.`role` `r` join `blofin`.`subject` `s`) join `blofin`.`authority` `auth`) join `blofin`.`role_authority` `ra`) where ((`ra`.`subject` = `s`.`subject`) and (`ra`.`role` = `r`.`role`) and (`ra`.`authority` = `auth`.`authority`)) group by `r`.`role`,`r`.`title`,`s`.`subject`,`s`.`area` order by `s`.`area`]]></view_script>
			<column name="role" type="BINARY" />
			<column name="title" type="VARCHAR" />
			<column name="subject" type="BINARY" />
			<column name="area" type="VARCHAR" />
		</view>
		<view name="vw_stop_orders" >
			<comment><![CDATA[VIEW]]></comment>
			<view_script><![CDATA[CREATE VIEW ${nameWithSchemaName} AS select `sr`.`stop_request` AS `stop_request`,`sr`.`stop_type` AS `stop_type`,`so`.`tpsl_id` AS `tpsl_id`,concat(lower(cast(hex(`so`.`stop_request`) as char charset utf8mb4)),'-',`so`.`stop_type`) AS `client_order_id`,`blofin`.`vip`.`instrument_position` AS `instrument_position`,`blofin`.`vip`.`instrument` AS `instrument`,`blofin`.`vip`.`symbol` AS `symbol`,`blofin`.`vip`.`position` AS `position`,`blofin`.`vip`.`state` AS `position_state`,`blofin`.`vip`.`status` AS `position_status`,`rs`.`state` AS `request_state`,`rs`.`status` AS `request_status`,`os`.`order_state` AS `order_state`,`os`.`source_ref` AS `order_status`,`sr`.`action` AS `action`,`sr`.`size` AS `size`,`so`.`actual_size` AS `actual_size`,`sr`.`trigger_price` AS `trigger_price`,`sr`.`order_price` AS `order_price`,`sr`.`reduce_only` AS `reduce_only`,`sr`.`memo` AS `memo`,`so`.`broker_id` AS `broker_id`,ifnull(`so`.`create_time`,`sr`.`create_time`) AS `create_time` from ((((`blofin`.`stop_request` `sr` left join `blofin`.`stop_order` `so` on(((`so`.`stop_request` = `sr`.`stop_request`) and (`so`.`stop_type` = `sr`.`stop_type`)))) left join `blofin`.`order_state` `os` on((`so`.`order_state` = `os`.`order_state`))) join `blofin`.`vw_instrument_positions` `vip` on((`sr`.`instrument_position` = `blofin`.`vip`.`instrument_position`))) join `blofin`.`state` `rs` on((`sr`.`state` = `rs`.`state`)))]]></view_script>
			<column name="instrument_position" type="BINARY" />
			<column name="stop_request" type="BINARY" />
			<column name="stop_type" type="CHAR" />
			<column name="tpsl_id" type="BIGINT" />
			<column name="client_order_id" type="VARCHAR" />
			<column name="instrument" type="BINARY" />
			<column name="symbol" type="VARCHAR" />
			<column name="position" type="CHAR" />
			<column name="position_state" type="BINARY" />
			<column name="position_status" type="VARCHAR" />
			<column name="request_state" type="BINARY" />
			<column name="request_status" type="VARCHAR" />
			<column name="order_state" type="BINARY" />
			<column name="order_status" type="VARCHAR" />
			<column name="action" type="CHAR" />
			<column name="size" type="DOUBLE" />
			<column name="actual_size" type="DOUBLE" />
			<column name="trigger_price" type="DOUBLE" />
			<column name="order_price" type="DOUBLE" />
			<column name="reduce_only" type="BIT" />
			<column name="broker_id" type="VARCHAR" />
			<column name="memo" type="VARCHAR" />
			<column name="create_time" type="DATETIME" />
		</view>
		<view name="vw_stop_requests" >
			<comment><![CDATA[VIEW]]></comment>
			<view_script><![CDATA[CREATE VIEW ${nameWithSchemaName} AS select `sr`.`stop_request` AS `stop_request`,`sr`.`stop_type` AS `stop_type`,concat(lower(cast(hex(`sr`.`stop_request`) as char charset utf8mb4)),'-',`sr`.`stop_type`) AS `client_order_id`,`blofin`.`vip`.`instrument` AS `instrument`,`blofin`.`vip`.`symbol` AS `symbol`,`blofin`.`vip`.`position` AS `position`,`s`.`state` AS `state`,`s`.`status` AS `status`,`blofin`.`vip`.`state` AS `position_state`,`blofin`.`vip`.`status` AS `position_status`,`sr`.`action` AS `action`,`sr`.`size` AS `size`,`sr`.`trigger_price` AS `trigger_price`,`sr`.`order_price` AS `order_price`,`sr`.`reduce_only` AS `reduce_only`,`sr`.`memo` AS `memo`,`sr`.`create_time` AS `create_time` from ((`blofin`.`stop_request` `sr` join `blofin`.`state` `s` on((`sr`.`state` = `s`.`state`))) join `blofin`.`vw_instrument_positions` `vip` on((`sr`.`instrument_position` = `blofin`.`vip`.`instrument_position`)))]]></view_script>
			<column name="stop_request" type="BINARY" />
			<column name="stop_type" type="CHAR" />
			<column name="client_order_id" type="VARCHAR" />
			<column name="instrument" type="BINARY" />
			<column name="symbol" type="VARCHAR" />
			<column name="position" type="CHAR" />
			<column name="state" type="BINARY" />
			<column name="status" type="VARCHAR" />
			<column name="position_state" type="BINARY" />
			<column name="position_status" type="VARCHAR" />
			<column name="action" type="CHAR" />
			<column name="size" type="DOUBLE" />
			<column name="trigger_price" type="DOUBLE" />
			<column name="order_price" type="DOUBLE" />
			<column name="reduce_only" type="BIT" />
			<column name="memo" type="VARCHAR" />
			<column name="create_time" type="DATETIME" />
		</view>
		<view name="vw_users" >
			<comment><![CDATA[VIEW]]></comment>
			<view_script><![CDATA[CREATE VIEW ${nameWithSchemaName} AS select `u`.`user` AS `user`,`u`.`username` AS `username`,`u`.`email` AS `email`,`u`.`role` AS `role`,`r`.`title` AS `title`,`u`.`state` AS `state`,`s`.`status` AS `status`,`u`.`image_url` AS `image_url`,`u`.`password` AS `password`,`u`.`hash` AS `hash`,`u`.`create_time` AS `create_time`,`u`.`update_time` AS `update_time` from ((`blofin`.`user` `u` join `blofin`.`role` `r`) join `blofin`.`state` `s`) where ((`u`.`role` = `r`.`role`) and (`u`.`state` = `s`.`state`))]]></view_script>
			<column name="user" type="BINARY" />
			<column name="username" type="VARCHAR" />
			<column name="email" type="VARCHAR" />
			<column name="role" type="BINARY" />
			<column name="title" type="VARCHAR" />
			<column name="state" type="BINARY" />
			<column name="status" type="VARCHAR" />
			<column name="image_url" type="VARCHAR" />
			<column name="password" type="BINARY" />
			<column name="hash" type="BINARY" />
			<column name="create_time" type="DATETIME" />
			<column name="update_time" type="DATETIME" />
		</view>
	</schema>
	<layout name="API Tables and Views" id="7db0907c-708f-4a04-85d4-b84169bdfed8" show_relation="columns" >
		<entity schema="blofin" name="instrument_position" color="FF00FF" x="874" y="304" />
		<entity schema="blofin" name="instrument_period" color="FF00FF" x="399" y="152" />
		<entity schema="blofin" name="position" color="FF00FF" x="912" y="152" />
		<entity schema="blofin" name="account_detail" color="FF00FF" x="1102" y="703" />
		<entity schema="blofin" name="stop_order" color="FF00FF" x="1330" y="1159" />
		<entity schema="blofin" name="account" color="FF00FF" x="874" y="817" />
		<entity schema="blofin" name="order_state" color="FF00FF" x="646" y="1292" />
		<entity schema="blofin" name="margin_mode" color="FF00FF" x="380" y="760" />
		<entity schema="blofin" name="positions" color="FF00FF" x="57" y="399" />
		<entity schema="blofin" name="vw_instruments" color="3986C1" x="1558" y="95" />
		<entity schema="blofin" name="vw_instrument_positions" color="3986C1" x="1558" y="722" />
		<entity schema="blofin" name="vw_instrument_periods" color="3986C1" x="1558" y="1064" />
		<entity schema="blofin" name="vw_orders" color="3986C1" x="1786" y="95" />
		<entity schema="blofin" name="vw_positions" color="3986C1" x="1976" y="95" />
		<entity schema="blofin" name="vw_order_states" color="3986C1" x="1805" y="1083" />
		<entity schema="blofin" name="vw_api_stop_requests" color="3986C1" x="1957" y="1159" />
		<entity schema="blofin" name="vw_stop_orders" color="3986C1" x="2147" y="817" />
		<entity schema="blofin" name="vw_stop_requests" color="3986C1" x="2185" y="418" />
		<entity schema="blofin" name="vw_requests" color="3986C1" x="1976" y="646" />
		<entity schema="blofin" name="request" color="FF00FF" x="646" y="646" />
		<entity schema="blofin" name="orders" color="FF00FF" x="361" y="969" />
		<entity schema="blofin" name="instrument" color="FF00FF" x="361" y="437" />
		<entity schema="blofin" name="stop_request" color="FF00FF" x="1330" y="399" />
		<entity schema="blofin" name="stop_type" color="FF00FF" x="1387" y="817" />
		<entity schema="blofin" name="request_type" color="FF00FF" x="646" y="1140" />
		<entity schema="blofin" name="vw_api_requests" color="3986C1" x="2185" y="95" />
		<entity schema="blofin" name="order_category" color="FF00FF" x="76" y="1045" />
		<entity schema="blofin" name="state" color="FF00FF" x="912" y="608" />
		<group name="Order Processing" color="FF00FF" >
			<entity schema="blofin" name="instrument_position" />
			<entity schema="blofin" name="instrument_period" />
			<entity schema="blofin" name="position" />
			<entity schema="blofin" name="account_detail" />
			<entity schema="blofin" name="stop_order" />
			<entity schema="blofin" name="account" />
			<entity schema="blofin" name="order_state" />
			<entity schema="blofin" name="margin_mode" />
			<entity schema="blofin" name="positions" />
			<entity schema="blofin" name="request" />
			<entity schema="blofin" name="orders" />
			<entity schema="blofin" name="instrument" />
			<entity schema="blofin" name="stop_request" />
			<entity schema="blofin" name="stop_type" />
			<entity schema="blofin" name="request_type" />
			<entity schema="blofin" name="order_category" />
			<entity schema="blofin" name="state" />
		</group>
		<script name="vw_api_requests" id="f908ad17-b53d-4df6-a725-e7d175152989" language="SQL" >
			<string><![CDATA[CREATE VIEW blofin.vw_api_requests AS select ifnull(`os`.`map_ref`,`rs`.`status`) AS `status`,`r`.`account` AS `account`,concat(`b`.`symbol`,'-',`q`.`symbol`) AS `instId`,`r`.`margin_mode` AS `marginMode`,`r`.`position` AS `positionSide`,`r`.`action` AS `side`,`rt`.`source_ref` AS `orderType`,replace(format(`r`.`price`,(length(substring_index(cast(`id`.`tick_size` as char charset utf8mb4),'.',-(1))) + 1)),',','') AS `price`,replace(format(`r`.`size`,(length(substring_index(cast(`id`.`tick_size` as char charset utf8mb4),'.',-(1))) + 1)),',','') AS `size`,if((`r`.`reduce_only` = 0),'false','true') AS `reduceOnly`,`r`.`broker_id` AS `brokerId`,cast(hex(`r`.`request`) as char charset utf8mb4) AS `clientOrderId`,`r`.`memo` AS `memo`,`r`.`expiry_time` AS `expiry_time` from ((((((((`blofin`.`request` `r` left join `blofin`.`orders` `o` on((`r`.`request` = `o`.`request`))) left join `blofin`.`order_state` `os` on((`o`.`order_state` = `os`.`order_state`))) join `blofin`.`instrument` `i` on((`r`.`instrument` = `i`.`instrument`))) join `blofin`.`instrument_detail` `id` on((`i`.`instrument` = `id`.`instrument`))) join `blofin`.`currency` `b` on((`i`.`base_currency` = `b`.`currency`))) join `blofin`.`currency` `q` on((`i`.`quote_currency` = `q`.`currency`))) join `blofin`.`request_type` `rt` on((`r`.`request_type` = `rt`.`request_type`))) join `blofin`.`state` `rs` on((`r`.`state` = `rs`.`state`)));

]]></string>
		</script>
	</layout>
	<layout name="Main ERD" id="fc7b74f6-9884-41b3-aeb9-0de2e2cc2be8" show_relation="columns" >
		<entity schema="blofin" name="account" color="994D00" x="817" y="1159" />
		<entity schema="blofin" name="subject" color="008000" x="323" y="684" />
		<entity schema="blofin" name="authority" color="008000" x="323" y="152" />
		<entity schema="blofin" name="user" color="008000" x="513" y="760" />
		<entity schema="blofin" name="period" color="331A80" x="1862" y="1235" />
		<entity schema="blofin" name="user_account" color="008000" x="779" y="836" />
		<entity schema="blofin" name="account_detail" color="994D00" x="779" y="1501" />
		<entity schema="blofin" name="environment" color="994D00" x="513" y="1311" />
		<entity schema="blofin" name="instrument_period" color="331A80" x="2223" y="1121" />
		<entity schema="blofin" name="vw_users" color="3986C1" x="133" y="437" />
		<entity schema="blofin" name="vw_role_subjects" color="3986C1" x="133" y="760" />
		<entity schema="blofin" name="vw_role_privileges" color="3986C1" x="114" y="171" />
		<entity schema="blofin" name="position" color="331A80" x="1140" y="1615" />
		<entity schema="blofin" name="orders" color="FF00FF" x="2014" y="247" />
		<entity schema="blofin" name="instrument_detail" color="331A80" x="1615" y="1577" />
		<entity schema="blofin" name="instrument_type" color="331A80" x="1957" y="1615" />
		<entity schema="blofin" name="currency" color="331A80" x="1463" y="1729" />
		<entity schema="blofin" name="candle" color="331A80" x="2223" y="1349" />
		<entity schema="blofin" name="margin_mode" color="FF00FF" x="1482" y="171" />
		<entity schema="blofin" name="request_type" color="FFFF00" x="1254" y="361" />
		<entity schema="blofin" name="instrument" color="331A80" x="1501" y="1178" />
		<entity schema="blofin" name="stop_request" color="FFFF00" x="1121" y="741" />
		<entity schema="blofin" name="instrument_position" color="331A80" x="1121" y="1311" />
		<entity schema="blofin" name="cancel_source" color="FF00FF" x="1710" y="456" />
		<entity schema="blofin" name="order_category" color="FF00FF" x="1729" y="646" />
		<entity schema="blofin" name="broker" color="994D00" x="304" y="1121" />
		<entity schema="blofin" name="request" color="FFFF00" x="931" y="152" />
		<entity schema="blofin" name="order_state" color="FF00FF" x="2014" y="798" />
		<entity schema="blofin" name="stop_type" color="FFFF00" x="1159" y="570" />
		<entity schema="blofin" name="state" color="331A80" x="1026" y="1121" />
		<entity schema="blofin" name="stop_order" color="FF00FF" x="1425" y="627" />
		<entity schema="blofin" name="price_type" color="FF00FF" x="1729" y="912" />
		<entity schema="blofin" name="vw_api_requests" color="3986C1" x="2451" y="608" />
		<entity schema="blofin" name="vw_order_states" color="3986C1" x="2451" y="931" />
		<entity schema="blofin" name="vw_instrument_periods" color="3986C1" x="2660" y="1140" />
		<entity schema="blofin" name="vw_candles" color="3986C1" x="2869" y="1140" />
		<entity schema="blofin" name="vw_candle_audit" color="3986C1" x="2888" y="1558" />
		<entity schema="blofin" name="vw_positions" color="3986C1" x="2793" y="95" />
		<entity schema="blofin" name="vw_stop_orders" color="3986C1" x="2793" y="627" />
		<entity schema="blofin" name="vw_api_stop_requests" color="3986C1" x="3002" y="494" />
		<entity schema="blofin" name="positions" color="FF00FF" x="2223" y="152" />
		<entity schema="blofin" name="activity" color="008000" x="760" y="608" />
		<entity schema="blofin" name="task_authority" color="008000" x="722" y="361" />
		<entity schema="blofin" name="role_authority" color="008000" x="304" y="399" />
		<entity schema="blofin" name="role" color="008000" x="513" y="513" />
		<entity schema="blofin" name="contract_type" color="331A80" x="1976" y="1786" />
		<entity schema="blofin" name="vw_instrument_positions" color="3986C1" x="2660" y="1539" />
		<entity schema="blofin" name="vw_accounts" color="3986C1" x="57" y="1102" />
		<entity schema="blofin" name="vw_requests" color="3986C1" x="2451" y="95" />
		<entity schema="blofin" name="vw_stop_requests" color="3986C1" x="3002" y="95" />
		<entity schema="blofin" name="vw_instruments" color="3986C1" x="2451" y="1140" />
		<entity schema="blofin" name="vw_orders" color="3986C1" x="2622" y="95" />
		<group name="instruments" color="331A80" >
			<entity schema="blofin" name="period" />
			<entity schema="blofin" name="instrument_period" />
			<entity schema="blofin" name="position" />
			<entity schema="blofin" name="instrument_detail" />
			<entity schema="blofin" name="instrument_type" />
			<entity schema="blofin" name="currency" />
			<entity schema="blofin" name="candle" />
			<entity schema="blofin" name="instrument" />
			<entity schema="blofin" name="instrument_position" />
			<entity schema="blofin" name="state" />
			<entity schema="blofin" name="contract_type" />
		</group>
		<group name="orders" color="FF00FF" >
			<entity schema="blofin" name="orders" />
			<entity schema="blofin" name="margin_mode" />
			<entity schema="blofin" name="cancel_source" />
			<entity schema="blofin" name="order_category" />
			<entity schema="blofin" name="order_state" />
			<entity schema="blofin" name="stop_order" />
			<entity schema="blofin" name="price_type" />
			<entity schema="blofin" name="positions" />
		</group>
		<group name="requests" color="FFFF00" >
			<entity schema="blofin" name="request_type" />
			<entity schema="blofin" name="stop_request" />
			<entity schema="blofin" name="request" />
			<entity schema="blofin" name="stop_type" />
		</group>
		<group name="users" color="008000" >
			<entity schema="blofin" name="subject" />
			<entity schema="blofin" name="authority" />
			<entity schema="blofin" name="user" />
			<entity schema="blofin" name="user_account" />
			<entity schema="blofin" name="activity" />
			<entity schema="blofin" name="task_authority" />
			<entity schema="blofin" name="role_authority" />
			<entity schema="blofin" name="role" />
		</group>
		<group name="account" color="994D00" >
			<entity schema="blofin" name="account" />
			<entity schema="blofin" name="account_detail" />
			<entity schema="blofin" name="environment" />
			<entity schema="blofin" name="broker" />
		</group>
	</layout>
	<layout name="Production ERD" id="cc6f5d44-f455-4d2b-bcb6-cc4108ce5c36" show_relation="fk_name" >
		<entity schema="blofin" name="order_state" color="FF00FF" x="1976" y="285" />
		<entity schema="blofin" name="user_account" color="B34D1A" x="1387" y="1330" />
		<entity schema="blofin" name="role" color="B34D1A" x="1691" y="950" />
		<entity schema="blofin" name="environment" color="B34D1A" x="1140" y="1501" />
		<entity schema="blofin" name="stop_type" color="FF00FF" x="1729" y="684" />
		<entity schema="blofin" name="cancel_source" color="FF00FF" x="1330" y="361" />
		<entity schema="blofin" name="request_type" color="FF00FF" x="1387" y="228" />
		<entity schema="blofin" name="order_category" color="FF00FF" x="1957" y="114" />
		<entity schema="blofin" name="broker" color="B34D1A" x="836" y="1064" />
		<entity schema="blofin" name="state" color="B34D1A" x="1007" y="912" />
		<entity schema="blofin" name="price_type" color="FF00FF" x="1216" y="722" />
		<entity schema="blofin" name="margin_mode" color="0000FF" x="608" y="95" />
		<entity schema="blofin" name="position" color="FF00FF" x="798" y="760" />
		<entity schema="blofin" name="candle" color="0000FF" x="380" y="779" />
		<entity schema="blofin" name="instrument" color="0000FF" x="532" y="399" />
		<entity schema="blofin" name="instrument_period" color="0000FF" x="57" y="551" />
		<entity schema="blofin" name="period" color="0000FF" x="133" y="855" />
		<entity schema="blofin" name="currency" color="0000FF" x="570" y="1482" />
		<entity schema="blofin" name="task_authority" color="B34D1A" x="1710" y="1520" />
		<entity schema="blofin" name="activity" color="B34D1A" x="2014" y="1520" />
		<entity schema="blofin" name="vw_accounts" color="00FFFF" x="2147" y="95" />
		<entity schema="blofin" name="vw_candles" color="00FFFF" x="2375" y="95" />
		<entity schema="blofin" name="vw_candle_audit" color="00FFFF" x="2394" y="532" />
		<entity schema="blofin" name="vw_instruments" color="00FFFF" x="2584" y="95" />
		<entity schema="blofin" name="vw_instrument_periods" color="00FFFF" x="2584" y="722" />
		<entity schema="blofin" name="vw_instrument_positions" color="00FFFF" x="2812" y="779" />
		<entity schema="blofin" name="vw_requests" color="00FFFF" x="2831" y="95" />
		<entity schema="blofin" name="vw_orders" color="00FFFF" x="3021" y="95" />
		<entity schema="blofin" name="vw_order_states" color="00FFFF" x="2831" y="608" />
		<entity schema="blofin" name="vw_role_privileges" color="00FFFF" x="2166" y="893" />
		<entity schema="blofin" name="vw_users" color="00FFFF" x="2166" y="1330" />
		<entity schema="blofin" name="vw_stop_requests" color="00FFFF" x="2394" y="1235" />
		<entity schema="blofin" name="vw_api_requests" color="00FFFF" x="2622" y="1140" />
		<entity schema="blofin" name="instrument_type" color="0000FF" x="76" y="1121" />
		<entity schema="blofin" name="contract_type" color="0000FF" x="76" y="1292" />
		<entity schema="blofin" name="role_authority" color="B34D1A" x="1672" y="1159" />
		<entity schema="blofin" name="authority" color="B34D1A" x="1995" y="1121" />
		<entity schema="blofin" name="subject" color="B34D1A" x="1995" y="1254" />
		<entity schema="blofin" name="vw_api_stop_requests" color="00FFFF" x="2812" y="1140" />
		<entity schema="blofin" name="vw_positions" color="00FFFF" x="2375" y="665" />
		<entity schema="blofin" name="vw_stop_orders" color="00FFFF" x="3021" y="1064" />
		<entity schema="blofin" name="instrument_detail" color="0000FF" x="437" y="1083" />
		<entity schema="blofin" name="vw_role_subjects" color="00FFFF" x="2166" y="1159" />
		<entity schema="blofin" name="user" color="B34D1A" x="1368" y="969" />
		<entity schema="blofin" name="account" color="B34D1A" x="1102" y="1140" />
		<entity schema="blofin" name="account_detail" color="B34D1A" x="798" y="1216" />
		<entity schema="blofin" name="instrument_position" color="FF00FF" x="855" y="456" />
		<entity schema="blofin" name="positions" color="0000FF" x="57" y="95" />
		<entity schema="blofin" name="request" color="FF00FF" x="1083" y="152" />
		<entity schema="blofin" name="stop_request" color="FF00FF" x="1387" y="570" />
		<entity schema="blofin" name="orders" color="FF00FF" x="1653" y="95" />
		<entity schema="blofin" name="stop_order" color="FF00FF" x="1976" y="570" />
		<group name="user accounts" color="B34D1A" >
			<entity schema="blofin" name="user_account" />
			<entity schema="blofin" name="role" />
			<entity schema="blofin" name="environment" />
			<entity schema="blofin" name="broker" />
			<entity schema="blofin" name="state" />
			<entity schema="blofin" name="task_authority" />
			<entity schema="blofin" name="activity" />
			<entity schema="blofin" name="role_authority" />
			<entity schema="blofin" name="authority" />
			<entity schema="blofin" name="subject" />
			<entity schema="blofin" name="user" />
			<entity schema="blofin" name="account" />
			<entity schema="blofin" name="account_detail" />
		</group>
		<group name="orders" color="FF00FF" >
			<entity schema="blofin" name="order_state" />
			<entity schema="blofin" name="stop_type" />
			<entity schema="blofin" name="cancel_source" />
			<entity schema="blofin" name="request_type" />
			<entity schema="blofin" name="order_category" />
			<entity schema="blofin" name="price_type" />
			<entity schema="blofin" name="position" />
			<entity schema="blofin" name="instrument_position" />
			<entity schema="blofin" name="request" />
			<entity schema="blofin" name="stop_request" />
			<entity schema="blofin" name="orders" />
			<entity schema="blofin" name="stop_order" />
		</group>
		<group name="instruments" color="0000FF" >
			<entity schema="blofin" name="margin_mode" />
			<entity schema="blofin" name="candle" />
			<entity schema="blofin" name="instrument" />
			<entity schema="blofin" name="instrument_period" />
			<entity schema="blofin" name="period" />
			<entity schema="blofin" name="currency" />
			<entity schema="blofin" name="instrument_type" />
			<entity schema="blofin" name="contract_type" />
			<entity schema="blofin" name="instrument_detail" />
			<entity schema="blofin" name="positions" />
		</group>
		<group name="views" color="00FFFF" >
			<entity schema="blofin" name="vw_accounts" />
			<entity schema="blofin" name="vw_candles" />
			<entity schema="blofin" name="vw_candle_audit" />
			<entity schema="blofin" name="vw_instruments" />
			<entity schema="blofin" name="vw_instrument_periods" />
			<entity schema="blofin" name="vw_instrument_positions" />
			<entity schema="blofin" name="vw_requests" />
			<entity schema="blofin" name="vw_orders" />
			<entity schema="blofin" name="vw_order_states" />
			<entity schema="blofin" name="vw_role_privileges" />
			<entity schema="blofin" name="vw_users" />
			<entity schema="blofin" name="vw_stop_requests" />
			<entity schema="blofin" name="vw_api_requests" />
			<entity schema="blofin" name="vw_api_stop_requests" />
			<entity schema="blofin" name="vw_positions" />
			<entity schema="blofin" name="vw_stop_orders" />
			<entity schema="blofin" name="vw_role_subjects" />
		</group>
	</layout>
</project>